(self.webpackChunkautowiki=self.webpackChunkautowiki||[]).push([[143],{7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),a=n(7067),o=n(8585);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,n){var r=n(8331);function a(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var a=r(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,a=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),a=n(3884),o=n(379),i=n(521);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,n){var r=n(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),a=n(6860),o=n(379),i=n(8206);e.exports=function(e){return r(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},5347:function(e,t,n){var r=n(3269).default,a=n(9713).default,o=n(412).encodeChange,i=n(9734).BackendDoc,s=n(5875).backendState;function u(e,t,n){if(e.hashesByActor[t]&&e.hashesByActor[t][n])return e.hashesByActor[t][n];if(!e.haveHashGraph&&(e.computeHashGraph(),e.hashesByActor[t]&&e.hashesByActor[t][n]))return e.hashesByActor[t][n];throw new RangeError("Unknown change: actorId = ".concat(t,", seq = ").concat(n+1))}function c(e,t){if(!Array.isArray(t))throw new TypeError("Pass an array of hashes to Backend.getChanges()");return s(e).getChanges(t)}e.exports={init:function(){return{state:new i,heads:[]}},clone:function(e){return{state:s(e).clone(),heads:e.heads}},free:function(e){e.state=null,e.frozen=!0},applyChanges:function(e,t){var n=s(e),r=n.applyChanges(t);return e.frozen=!0,[{state:n,heads:n.heads},r]},applyLocalChange:function(e,t){var n=s(e);if(t.seq<=n.clock[t.actor])throw new RangeError("Change request has already been applied");if(t.seq>1){var i=u(n,t.actor,t.seq-2);if(!i)throw new RangeError("Cannot find hash of localChange before seq=".concat(t.seq));var c,l=a({},i,!0),h=r(t.deps);try{for(h.s();!(c=h.n()).done;){l[c.value]=!0}}catch(v){h.e(v)}finally{h.f()}t.deps=Object.keys(l).sort()}var d=o(t),f=n.applyChanges([d],!0);e.frozen=!0;var p=u(n,t.actor,t.seq-1);return f.deps=f.deps.filter((function(e){return e!==p})),[{state:n,heads:n.heads},f,d]},save:function(e){return s(e).save()},load:function(e){var t=new i(e);return{state:t,heads:t.heads}},loadChanges:function(e,t){var n=s(e);return n.applyChanges(t),e.frozen=!0,{state:n,heads:n.heads}},getPatch:function(e){return s(e).getPatch()},getHeads:function(e){return e.heads},getAllChanges:function(e){return c(e,[])},getChanges:c,getChangesAdded:function(e,t){return s(t).getChangesAdded(s(e))},getChangeByHash:function(e,t){return s(e).getChangeByHash(t)},getMissingDeps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return s(e).getMissingDeps(t)}}},412:function(e,t,n){var r=n(3038).default,a=n(3269).default,o=n(9043),i=n(681),s=i.copyObject,u=i.parseOpId,c=i.equalBytes,l=n(1145),h=l.utf8ToString,d=l.hexStringToBytes,f=l.bytesToHexString,p=l.Encoder,v=l.Decoder,y=l.RLEEncoder,g=l.RLEDecoder,b=l.DeltaEncoder,m=l.DeltaDecoder,w=l.BooleanEncoder,_=l.BooleanDecoder,I=n(100).Hash,k=new Uint8Array([133,111,74,131]),x={GROUP_CARD:0,ACTOR_ID:1,INT_RLE:2,INT_DELTA:3,BOOLEAN:4,STRING_RLE:5,VALUE_LEN:6,VALUE_RAW:7},E={NULL:0,FALSE:1,TRUE:2,LEB128_UINT:3,LEB128_INT:4,IEEE754:5,UTF8:6,BYTES:7,COUNTER:8,TIMESTAMP:9,MIN_UNKNOWN:10,MAX_UNKNOWN:15},O=["makeMap","set","makeList","del","makeText","inc","makeTable","link"],A=[{columnName:"objActor",columnId:0|x.ACTOR_ID},{columnName:"objCtr",columnId:0|x.INT_RLE},{columnName:"keyActor",columnId:16|x.ACTOR_ID},{columnName:"keyCtr",columnId:16|x.INT_DELTA},{columnName:"keyStr",columnId:16|x.STRING_RLE},{columnName:"idActor",columnId:32|x.ACTOR_ID},{columnName:"idCtr",columnId:32|x.INT_DELTA},{columnName:"insert",columnId:48|x.BOOLEAN},{columnName:"action",columnId:64|x.INT_RLE},{columnName:"valLen",columnId:80|x.VALUE_LEN},{columnName:"valRaw",columnId:80|x.VALUE_RAW},{columnName:"chldActor",columnId:96|x.ACTOR_ID},{columnName:"chldCtr",columnId:96|x.INT_DELTA}],j=A.concat([{columnName:"predNum",columnId:112|x.GROUP_CARD},{columnName:"predActor",columnId:112|x.ACTOR_ID},{columnName:"predCtr",columnId:112|x.INT_DELTA}]),R=A.concat([{columnName:"succNum",columnId:128|x.GROUP_CARD},{columnName:"succActor",columnId:128|x.ACTOR_ID},{columnName:"succCtr",columnId:128|x.INT_DELTA}]),C=[{columnName:"actor",columnId:0|x.ACTOR_ID},{columnName:"seq",columnId:0|x.INT_DELTA},{columnName:"maxOp",columnId:16|x.INT_DELTA},{columnName:"time",columnId:32|x.INT_DELTA},{columnName:"message",columnId:48|x.STRING_RLE},{columnName:"depsNum",columnId:64|x.GROUP_CARD},{columnName:"depsIndex",columnId:64|x.INT_DELTA},{columnName:"extraLen",columnId:80|x.VALUE_LEN},{columnName:"extraRaw",columnId:80|x.VALUE_RAW}];function S(e,t){if(!e||!e.actorId)return e;var n=e.counter,r=t.indexOf(e.actorId);if(r<0)throw new RangeError("missing actorId");return{counter:n,actorNum:r,actorId:e.actorId}}function V(e,t){return e.counter<t.counter?-1:e.counter>t.counter?1:e.actorId<t.actorId?-1:e.actorId>t.actorId?1:0}function N(e,t){if("_root"===e.obj)t.objActor.appendValue(null),t.objCtr.appendValue(null);else{if(!(e.obj.actorNum>=0&&e.obj.counter>0))throw new RangeError("Unexpected objectId reference: ".concat(JSON.stringify(e.obj)));t.objActor.appendValue(e.obj.actorNum),t.objCtr.appendValue(e.obj.counter)}}function L(e,t){if(e.key)t.keyActor.appendValue(null),t.keyCtr.appendValue(null),t.keyStr.appendValue(e.key);else if("_head"===e.elemId&&e.insert)t.keyActor.appendValue(null),t.keyCtr.appendValue(0),t.keyStr.appendValue(null);else{if(!(e.elemId&&e.elemId.actorNum>=0&&e.elemId.counter>0))throw new RangeError("Unexpected operation key: ".concat(JSON.stringify(e)));t.keyActor.appendValue(e.elemId.actorNum),t.keyCtr.appendValue(e.elemId.counter),t.keyStr.appendValue(null)}}function T(e,t){var n=O.indexOf(e.action);if(n>=0)t.action.appendValue(n);else{if("number"!==typeof e.action)throw new RangeError("Unexpected operation action: ".concat(e.action));t.action.appendValue(e.action)}}function B(e,t){if("set"!==e.action&&"inc"!==e.action||null===e.value)t.valLen.appendValue(E.NULL);else if(!1===e.value)t.valLen.appendValue(E.FALSE);else if(!0===e.value)t.valLen.appendValue(E.TRUE);else if("string"===typeof e.value){var n=t.valRaw.appendRawString(e.value);t.valLen.appendValue(n<<4|E.UTF8)}else if(ArrayBuffer.isView(e.value)){var a=t.valRaw.appendRawBytes(new Uint8Array(e.value.buffer));t.valLen.appendValue(a<<4|E.BYTES)}else if("number"===typeof e.value){var o,i=function(e){switch(e.datatype){case"counter":return[E.COUNTER,e.value];case"timestamp":return[E.TIMESTAMP,e.value];case"uint":return[E.LEB128_UINT,e.value];case"int":return[E.LEB128_INT,e.value];case"float64":var t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e.value,!0),[E.IEEE754,new Uint8Array(t)];default:if(Number.isInteger(e.value)&&e.value<=Number.MAX_SAFE_INTEGER&&e.value>=Number.MIN_SAFE_INTEGER)return[E.LEB128_INT,e.value];var n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,e.value,!0),[E.IEEE754,new Uint8Array(n)]}}(e),s=r(i,2),u=s[0],c=s[1];o=u===E.LEB128_UINT?t.valRaw.appendUint53(c):u===E.IEEE754?t.valRaw.appendRawBytes(c):t.valRaw.appendInt53(c),t.valLen.appendValue(o<<4|u)}else{if(!("number"===typeof e.datatype&&e.datatype>=E.MIN_UNKNOWN&&e.datatype<=E.MAX_UNKNOWN&&e.value instanceof Uint8Array))throw e.datatype?new RangeError("Unknown datatype ".concat(e.datatype," for value ").concat(e.value)):new RangeError("Unsupported value in operation: ".concat(e.value));var l=t.valRaw.appendRawBytes(e.value);t.valLen.appendValue(l<<4|e.datatype)}}function U(e,t){if(e===E.NULL)return{value:null};if(e===E.FALSE)return{value:!1};if(e===E.TRUE)return{value:!0};if(e%16===E.UTF8)return{value:h(t)};if(e%16===E.LEB128_UINT)return{value:new v(t).readUint53(),datatype:"uint"};if(e%16===E.LEB128_INT)return{value:new v(t).readInt53(),datatype:"int"};if(e%16===E.IEEE754){var n=new DataView(t.buffer,t.byteOffset,t.byteLength);if(8===t.byteLength)return{value:n.getFloat64(0,!0),datatype:"float64"};throw new RangeError("Invalid length for floating point number: ".concat(t.byteLength))}return e%16===E.COUNTER?{value:new v(t).readInt53(),datatype:"counter"}:e%16===E.TIMESTAMP?{value:new v(t).readInt53(),datatype:"timestamp"}:{value:t,datatype:e%16}}function D(e,t,n,r){var a=e[t],o=a.columnId,i=a.columnName,s=a.decoder;if(o%8===x.VALUE_LEN&&t+1<e.length&&e[t+1].columnId===o+1){var u=s.readValue(),c=U(u,e[t+1].decoder.readRawBytes(u>>4)),l=c.value,h=c.datatype;return r[i]=l,h&&(r[i+"_datatype"]=h),2}if(o%8===x.ACTOR_ID){var d=s.readValue();if(null===d)r[i]=null;else{if(!n[d])throw new RangeError("No actor index ".concat(d));r[i]=n[d]}}else r[i]=s.readValue();return 1}function M(e,t){return void 0===t?"string"===typeof e||"boolean"===typeof e||null===e:"number"===typeof e}function z(e,t,n){var r,o=t,i=[],s=a(e);try{for(s.s();!(r=s.n()).done;){var c=r.value;if("set"===c.action&&c.values&&c.insert){if(0!==c.pred.length)throw new RangeError("multi-insert pred must be empty");var l,h=c.elemId,d=c.datatype,f=a(c.values);try{for(f.s();!(l=f.n()).done;){var p=l.value;if(!M(p,d))throw new RangeError("Decode failed: bad value/datatype association (".concat(p,",").concat(d,")"));i.push({action:"set",obj:c.obj,elemId:h,datatype:d,value:p,pred:[],insert:!0}),h="".concat(o,"@").concat(n),o+=1}}catch(w){f.e(w)}finally{f.f()}}else if("del"===c.action&&c.multiOp>1){if(1!==c.pred.length)throw new RangeError("multiOp deletion must have exactly one pred");for(var v=u(c.elemId),y=u(c.pred[0]),g=0;g<c.multiOp;g++){var b="".concat(v.counter+g,"@").concat(v.actorId),m=["".concat(y.counter+g,"@").concat(y.actorId)];i.push({action:"del",obj:c.obj,elemId:b,pred:m}),o+=1}}else i.push(c),o+=1}}catch(w){s.e(w)}finally{s.f()}return i}function H(e,t){var n,r=[],o=a(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=null===i.objCtr?"_root":"".concat(i.objCtr,"@").concat(i.objActor),u=i.keyStr?void 0:0===i.keyCtr?"_head":"".concat(i.keyCtr,"@").concat(i.keyActor),c=O[i.action]||i.action,l=u?{obj:s,elemId:u,action:c}:{obj:s,key:i.keyStr,action:c};if(l.insert=!!i.insert,"set"!==O[i.action]&&"inc"!==O[i.action]||(l.value=i.valLen,i.valLen_datatype&&(l.datatype=i.valLen_datatype)),!!i.chldCtr!==!!i.chldActor)throw new RangeError("Mismatched child columns: ".concat(i.chldCtr," and ").concat(i.chldActor));null!==i.chldCtr&&(l.child="".concat(i.chldCtr,"@").concat(i.chldActor)),t?(l.id="".concat(i.idCtr,"@").concat(i.idActor),l.succ=i.succNum.map((function(e){return"".concat(e.succCtr,"@").concat(e.succActor)})),P(i.succNum.map((function(e){return{counter:e.succCtr,actorId:e.succActor}})))):(l.pred=i.predNum.map((function(e){return"".concat(e.predCtr,"@").concat(e.predActor)})),P(i.predNum.map((function(e){return{counter:e.predCtr,actorId:e.predActor}})))),r.push(l)}}catch(h){o.e(h)}finally{o.f()}return r}function P(e){var t,n=null,r=a(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n&&-1!==V(n,o))throw new RangeError("operation IDs are not in ascending order");n=o}}catch(i){r.e(i)}finally{r.f()}}function Z(e,t){return(7&e)===x.INT_DELTA?new m(t):(7&e)===x.BOOLEAN?new _(t):(7&e)===x.STRING_RLE?new g("utf8",t):(7&e)===x.VALUE_RAW?new v(t):new g("uint",t)}function F(e,t){for(var n=new Uint8Array(0),r=[],a=0,o=0;a<e.length||o<t.length;)if(a===e.length||o<t.length&&t[o].columnId<e[a].columnId){var i=t[o],s=i.columnId,u=i.columnName;r.push({columnId:s,columnName:u,decoder:Z(s,n)}),o++}else if(o===t.length||e[a].columnId<t[o].columnId){var c=e[a],l=c.columnId,h=c.buffer;r.push({columnId:l,decoder:Z(l,h)}),a++}else{var d=e[a],f=d.columnId,p=d.buffer,v=t[o].columnName;r.push({columnId:f,columnName:v,decoder:Z(f,p)}),a++,o++}return r}function q(e,t,n){e=F(e,n);for(var r=[];e.some((function(e){return!e.decoder.done}));){for(var a={},o=0;o<e.length;){for(var i=e[o].columnId,s=i>>4,u=1;o+u<e.length&&e[o+u].columnId>>4===s;)u++;if(i%8===x.GROUP_CARD){for(var c=[],l=e[o].decoder.readValue(),h=0;h<l;h++){for(var d={},f=1;f<u;f++)D(e,o+f,t,d);c.push(d)}a[e[o].columnName]=c,o+=u}else o+=D(e,o,t,a)}r.push(a)}return r}function G(e){for(var t=-9>>>0,n=-1,r=[],a=e.readUint53(),o=0;o<a;o++){var i=e.readUint53(),s=e.readUint53();if((i&t)<=(n&t))throw new RangeError("Columns must be in ascending order");n=i,r.push({columnId:i,bufferLen:s})}return r}function K(e,t){var n=t.filter((function(e){return e.encoder.buffer.byteLength>0}));e.appendUint53(n.length);var r,o=a(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.appendUint53(i.columnId),e.appendUint53(i.encoder.buffer.byteLength)}}catch(s){o.e(s)}finally{o.f()}}function W(e){for(var t=e.readUint53(),n=[],r=0;r<t;r++)n.push(f(e.readRawBytes(32)));for(var a={actor:e.readHexString(),seq:e.readUint53(),startOp:e.readUint53(),time:e.readInt53(),message:e.readPrefixedString(),deps:n},o=[a.actor],i=e.readUint53(),s=0;s<i;s++)o.push(e.readHexString());return a.actorIds=o,a}function Y(e,t){var n=k.byteLength+4+1+5,r=new p;r.appendRawBytes(new Uint8Array(n)),t(r);var a=r.buffer,o=new p;o.appendByte(e),o.appendUint53(a.byteLength-n);var i=o.buffer,s=new I;s.update(i),s.update(a.subarray(n));var u=s.digest(),c=u.subarray(0,4);return a.set(k,n-i.byteLength-4-k.byteLength),a.set(c,n-i.byteLength-4),a.set(i,n-i.byteLength),{hash:u,bytes:a.subarray(n-i.byteLength-4-k.byteLength)}}function J(e,t){if(!c(e.readRawBytes(k.byteLength),k))throw new RangeError("Data does not begin with magic bytes 85 6f 4a 83");var n=e.readRawBytes(4),r=e.offset,a=e.readByte(),o=e.readUint53(),i={chunkType:a,chunkLength:o,chunkData:e.readRawBytes(o)};if(t){var s=new I;s.update(e.buf.subarray(r,e.offset));var u=s.digest();if(!c(u.subarray(0,4),n))throw new RangeError("checksum does not match data");i.hash=f(u)}return i}function X(e){var t=function(e,t){var n,r={},o=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var c=n.value;c=s(c),r[c.actor]=!0,c.ops=z(c.ops,c.startOp,c.actor),c.ops=c.ops.map((function(e){"_root"!==(e=s(e)).obj&&(e.obj=u(e.obj)),e.elemId&&"_head"!==e.elemId&&(e.elemId=u(e.elemId)),e.child&&(e.child=u(e.child)),e.pred&&(e.pred=e.pred.map(u)),e.obj.actorId&&(r[e.obj.actorId]=!0),e.elemId&&e.elemId.actorId&&(r[e.elemId.actorId]=!0),e.child&&e.child.actorId&&(r[e.child.actorId]=!0);var t,n=a(e.pred);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.actorId]=!0}}catch(i){n.e(i)}finally{n.f()}return e})),o.push(c)}}catch(y){i.e(y)}finally{i.f()}var l=Object.keys(r).sort();t&&(l=[e[0].actor].concat(l.filter((function(t){return t!==e[0].actor}))));for(var h=0,d=o;h<d.length;h++){var f=d[h];f.actorNum=l.indexOf(f.actor);for(var p=0;p<f.ops.length;p++){var v=f.ops[p];v.id={counter:f.startOp+p,actorNum:f.actorNum,actorId:f.actor},v.obj=S(v.obj,l),v.elemId=S(v.elemId,l),v.child=S(v.child,l),v.pred=v.pred.map((function(e){return S(e,l)}))}}return{changes:o,actorIds:l}}([e],!0),n=t.changes,r=t.actorIds,i=n[0],c=Y(1,(function(e){if(!Array.isArray(i.deps))throw new TypeError("deps is not an array");e.appendUint53(i.deps.length);var t,n=a(i.deps.slice().sort());try{for(n.s();!(t=n.n()).done;){var o=t.value;e.appendRawBytes(d(o))}}catch(g){n.e(g)}finally{n.f()}e.appendHexString(i.actor),e.appendUint53(i.seq),e.appendUint53(i.startOp),e.appendInt53(i.time),e.appendPrefixedString(i.message||""),e.appendUint53(r.length-1);var s,u=a(r.slice(1));try{for(u.s();!(s=u.n()).done;){var c=s.value;e.appendHexString(c)}}catch(g){u.e(g)}finally{u.f()}var l=function(e,t){var n={objActor:new y("uint"),objCtr:new y("uint"),keyActor:new y("uint"),keyCtr:new b,keyStr:new y("utf8"),insert:new w,action:new y("uint"),valLen:new y("uint"),valRaw:new p,chldActor:new y("uint"),chldCtr:new b};t?(n.idActor=new y("uint"),n.idCtr=new b,n.succNum=new y("uint"),n.succActor=new y("uint"),n.succCtr=new b):(n.predNum=new y("uint"),n.predCtr=new b,n.predActor=new y("uint"));var r,o=a(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(N(i,n),L(i,n),n.insert.appendValue(!!i.insert),T(i,n),B(i,n),i.child&&i.child.counter?(n.chldActor.appendValue(i.child.actorNum),n.chldCtr.appendValue(i.child.counter)):(n.chldActor.appendValue(null),n.chldCtr.appendValue(null)),t){n.idActor.appendValue(i.id.actorNum),n.idCtr.appendValue(i.id.counter),n.succNum.appendValue(i.succ.length),i.succ.sort(V);for(var s=0;s<i.succ.length;s++)n.succActor.appendValue(i.succ[s].actorNum),n.succCtr.appendValue(i.succ[s].counter)}else{n.predNum.appendValue(i.pred.length),i.pred.sort(V);for(var u=0;u<i.pred.length;u++)n.predActor.appendValue(i.pred[u].actorNum),n.predCtr.appendValue(i.pred[u].counter)}}}catch(g){o.e(g)}finally{o.f()}var c,l=[],h=a(t?R:j);try{for(h.s();!(c=h.n()).done;){var d=c.value,f=d.columnName,v=d.columnId;n[f]&&l.push({columnId:v,columnName:f,encoder:n[f]})}}catch(g){h.e(g)}finally{h.f()}return l.sort((function(e,t){return e.columnId-t.columnId}))}(i.ops,!1);K(e,l);var h,f=a(l);try{for(f.s();!(h=f.n()).done;){var v=h.value;e.appendRawBytes(v.encoder.buffer)}}catch(g){f.e(g)}finally{f.f()}i.extraBytes&&e.appendRawBytes(i.extraBytes)})),l=c.hash,h=c.bytes,g=f(l);if(e.hash&&e.hash!==g)throw new RangeError("Change hash does not match encoding: ".concat(e.hash," != ").concat(g));return h.byteLength>=256?function(e){var t=J(new v(e),!1);if(1!==t.chunkType)throw new RangeError("Unexpected chunk type: ".concat(t.chunkType));var n=o.deflateRaw(t.chunkData),r=new p;return r.appendRawBytes(e.subarray(0,8)),r.appendByte(2),r.appendUint53(n.byteLength),r.appendRawBytes(n),r.buffer}(h):h}function $(e){2===e[8]&&(e=ee(e));var t=new v(e),n=J(t,!0),r=new v(n.chunkData);if(!t.done)throw new RangeError("Encoded change has trailing data");if(1!==n.chunkType)throw new RangeError("Unexpected chunk type: ".concat(n.chunkType));for(var a=W(r),o=G(r),i=0;i<o.length;i++){if(0!==(8&o[i].columnId))throw new RangeError("change must not contain deflated columns");o[i].buffer=r.readRawBytes(o[i].bufferLen)}if(!r.done){var s=r.buf.byteLength-r.offset;a.extraBytes=r.readRawBytes(s)}return a.columns=o,a.hash=n.hash,a}function Q(e){var t=$(e);return t.ops=H(q(t.columns,t.actorIds,j),!1),delete t.actorIds,delete t.columns,t}function ee(e){var t=J(new v(e),!1);if(2!==t.chunkType)throw new RangeError("Unexpected chunk type: ".concat(t.chunkType));var n=o.inflateRaw(t.chunkData),r=new p;return r.appendRawBytes(e.subarray(0,8)),r.appendByte(1),r.appendUint53(n.byteLength),r.appendRawBytes(n),r.buffer}function te(e){for(var t=new v(e),n=[],r=0;!t.done;)J(t,!1),n.push(e.subarray(r,t.offset)),r=t.offset;return n}function ne(e,t){if(e===t)return 0;if("_root"===e)return-1;if("_root"===t)return 1;var n=u(e),r=u(t);return n.counter<r.counter?-1:n.counter>r.counter?1:n.actorId<r.actorId?-1:n.actorId>r.actorId?1:0}function re(e){var t=new v(e),n=J(t,!0),r=new v(n.chunkData);if(!t.done)throw new RangeError("Encoded document has trailing data");if(0!==n.chunkType)throw new RangeError("Unexpected chunk type: ".concat(n.chunkType));for(var a=[],o=r.readUint53(),i=0;i<o;i++)a.push(r.readHexString());for(var s=[],u=[],c=r.readUint53(),l=0;l<c;l++)s.push(f(r.readRawBytes(32)));for(var h=G(r),d=G(r),p=0;p<h.length;p++)h[p].buffer=r.readRawBytes(h[p].bufferLen),ie(h[p]);for(var y=0;y<d.length;y++)d[y].buffer=r.readRawBytes(d[y].bufferLen),ie(d[y]);if(!r.done)for(var g=0;g<c;g++)u.push(r.readUint53());return{changesColumns:h,opsColumns:d,actorIds:a,heads:s,headsIndexes:u,extraBytes:r.readRawBytes(r.buf.byteLength-r.offset)}}function ae(e){var t=re(e),n=t.changesColumns,r=t.opsColumns,o=t.actorIds,i=t.heads,s=q(n,o,C);return function(e,t){var n,r={},o=a(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.ops=[],r[i.actor]||(r[i.actor]=[]),i.seq!==r[i.actor].length+1)throw new RangeError("Expected seq = ".concat(r[i.actor].length+1,", got ").concat(i.seq));if(i.seq>1&&r[i.actor][i.seq-2].maxOp>i.maxOp)throw new RangeError("maxOp must increase monotonically per actor");r[i.actor].push(i)}}catch(L){o.e(L)}finally{o.f()}var s,c={},l=a(t);try{for(l.s();!(s=l.n()).done;){var h=s.value;if("del"===h.action)throw new RangeError("document should not contain del operations");h.pred=c[h.id]?c[h.id].pred:[],c[h.id]=h;var d,f=a(h.succ);try{for(f.s();!(d=f.n()).done;){var p=d.value;if(!c[p])if(h.elemId){var v=h.insert?h.id:h.elemId;c[p]={id:p,action:"del",obj:h.obj,elemId:v,pred:[]}}else c[p]={id:p,action:"del",obj:h.obj,key:h.key,pred:[]};c[p].pred.push(h.id)}}catch(L){f.e(L)}finally{f.f()}delete h.succ}}catch(L){l.e(L)}finally{l.f()}for(var y=0,g=Object.values(c);y<g.length;y++){var b=g[y];"del"===b.action&&t.push(b)}var m,w=a(t);try{for(w.s();!(m=w.n()).done;){for(var _=m.value,I=u(_.id),k=I.counter,x=r[I.actorId],E=0,O=x.length;E<O;){var A=Math.floor((E+O)/2);x[A].maxOp<k?E=A+1:O=A}if(E>=x.length)throw new RangeError("Operation ID ".concat(_.id," outside of allowed range"));x[E].ops.push(_)}}catch(L){w.e(L)}finally{w.f()}var j,R=a(e);try{for(R.s();!(j=R.n()).done;){var C=j.value;C.ops.sort((function(e,t){return ne(e.id,t.id)})),C.startOp=C.maxOp-C.ops.length+1,delete C.maxOp;for(var S=0;S<C.ops.length;S++){var V=C.ops[S],N="".concat(C.startOp+S,"@").concat(C.actor);if(V.id!==N)throw new RangeError("Expected opId ".concat(N,", got ").concat(V.id));delete V.id}}}catch(L){R.e(L)}finally{R.f()}}(s,H(q(r,o,R),!0)),function(e,t){for(var n={},r=0;r<e.length;r++){var o=e[r];o.deps=[];var i,s=a(o.depsNum.map((function(e){return e.depsIndex})));try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!e[u]||!e[u].hash)throw new RangeError("No hash for index ".concat(u," while processing index ").concat(r));var c=e[u].hash;o.deps.push(c),n[c]&&delete n[c]}}catch(f){s.e(f)}finally{s.f()}if(o.deps.sort(),delete o.depsNum,o.extraLen_datatype!==E.BYTES)throw new RangeError("Bad datatype for extra bytes: ".concat(E.BYTES));o.extraBytes=o.extraLen,delete o.extraLen_datatype,e[r]=Q(X(o)),n[e[r].hash]=!0}for(var l=Object.keys(n).sort(),h=l.length===t.length,d=0;h&&d<l.length;)h=l[d]===t[d],d++;if(!h)throw new RangeError("Mismatched heads hashes: expected ".concat(t.join(", "),", got ").concat(l.join(", ")))}(s,i),s}function oe(e){e.encoder.buffer.byteLength>=256&&(e.encoder={buffer:o.deflateRaw(e.encoder.buffer)},e.columnId|=8)}function ie(e){0!==(8&e.columnId)&&(e.buffer=o.inflateRaw(e.buffer),e.columnId^=8)}e.exports={COLUMN_TYPE:x,VALUE_TYPE:E,ACTIONS:O,OBJECT_TYPE:{makeMap:"map",makeList:"list",makeText:"text",makeTable:"table"},DOC_OPS_COLUMNS:R,CHANGE_COLUMNS:j,DOCUMENT_COLUMNS:C,encoderByColumnId:function(e){return(7&e)===x.INT_DELTA?new b:(7&e)===x.BOOLEAN?new w:(7&e)===x.STRING_RLE?new y("utf8"):(7&e)===x.VALUE_RAW?new p:new y("uint")},decoderByColumnId:Z,makeDecoders:F,decodeValue:U,splitContainers:te,encodeChange:X,decodeChangeColumns:$,decodeChange:Q,decodeChangeMeta:function(e,t){2===e[8]&&(e=ee(e));var n=J(new v(e),t);if(1!==n.chunkType)throw new RangeError("Buffer chunk type is not a change");var r=W(new v(n.chunkData));return r.change=e,t&&(r.hash=n.hash),r},decodeChanges:function(e){var t,n=[],r=a(e);try{for(r.s();!(t=r.n()).done;){var o,i=t.value,s=a(te(i));try{for(s.s();!(o=s.n()).done;){var u=o.value;0===u[8]?n=n.concat(ae(u)):1!==u[8]&&2!==u[8]||n.push(Q(u))}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}return n},encodeDocumentHeader:function(e){var t,n=e.changesColumns,r=e.opsColumns,o=e.actorIds,i=e.heads,s=e.headsIndexes,u=e.extraBytes,c=a(n);try{for(c.s();!(t=c.n()).done;){oe(t.value)}}catch(f){c.e(f)}finally{c.f()}var l,h=a(r);try{for(h.s();!(l=h.n()).done;){oe(l.value)}}catch(f){h.e(f)}finally{h.f()}return Y(0,(function(e){e.appendUint53(o.length);var t,c=a(o);try{for(c.s();!(t=c.n()).done;){var l=t.value;e.appendHexString(l)}}catch(f){c.e(f)}finally{c.f()}e.appendUint53(i.length);var h,p=a(i.sort());try{for(p.s();!(h=p.n()).done;){var v=h.value;e.appendRawBytes(d(v))}}catch(f){p.e(f)}finally{p.f()}K(e,n),K(e,r);var y,g=a(n);try{for(g.s();!(y=g.n()).done;){var b=y.value;e.appendRawBytes(b.encoder.buffer)}}catch(f){g.e(f)}finally{g.f()}var m,w=a(r);try{for(w.s();!(m=w.n()).done;){var _=m.value;e.appendRawBytes(_.encoder.buffer)}}catch(f){w.e(f)}finally{w.f()}var I,k=a(s);try{for(k.s();!(I=k.n()).done;){var x=I.value;e.appendUint53(x)}}catch(f){k.e(f)}finally{k.f()}u&&e.appendRawBytes(u)})).bytes},decodeDocumentHeader:re,decodeDocument:ae}},1145:function(e,t,n){var r=n(6525).default,a=n(9754).default,o=n(3269).default,i=n(2205).default,s=n(9842).default,u=n(4575).default,c=n(3913).default,l=new TextEncoder,h=new TextDecoder("utf-8");function d(e){return l.encode(e)}function f(e){return h.decode(e)}function p(e){if("string"!==typeof e)throw new TypeError("value is not a string");if(!/^([0-9a-f][0-9a-f])*$/.test(e))throw new RangeError("value is not hexadecimal");return""===e?new Uint8Array(0):new Uint8Array(e.match(/../g).map((function(e){return parseInt(e,16)})))}for(var v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],y=new Array(256),g=0;g<256;g++)y[g]="".concat(v[g>>>4&15]).concat(v[15&g]);function b(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=y[e[r]];return t}var m=function(){"use strict";function e(){u(this,e),this.buf=new Uint8Array(16),this.offset=0}return c(e,[{key:"buffer",get:function(){return this.finish(),this.buf.subarray(0,this.offset)}},{key:"grow",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=4*this.buf.byteLength;t<e;)t*=2;var n=new Uint8Array(t);return n.set(this.buf,0),this.buf=n,this}},{key:"appendByte",value:function(e){this.offset>=this.buf.byteLength&&this.grow(),this.buf[this.offset]=e,this.offset+=1}},{key:"appendUint32",value:function(e){if(!Number.isInteger(e))throw new RangeError("value is not an integer");if(e<0||e>4294967295)throw new RangeError("number out of range");var t=Math.max(1,Math.ceil((32-Math.clz32(e))/7));this.offset+t>this.buf.byteLength&&this.grow();for(var n=0;n<t;n++)this.buf[this.offset+n]=127&e|(n===t-1?0:128),e>>>=7;return this.offset+=t,t}},{key:"appendInt32",value:function(e){if(!Number.isInteger(e))throw new RangeError("value is not an integer");if(e<-2147483648||e>2147483647)throw new RangeError("number out of range");var t=Math.ceil((33-Math.clz32(e>=0?e:-e-1))/7);this.offset+t>this.buf.byteLength&&this.grow();for(var n=0;n<t;n++)this.buf[this.offset+n]=127&e|(n===t-1?0:128),e>>=7;return this.offset+=t,t}},{key:"appendUint53",value:function(e){if(!Number.isInteger(e))throw new RangeError("value is not an integer");if(e<0||e>Number.MAX_SAFE_INTEGER)throw new RangeError("number out of range");var t=Math.floor(e/4294967296),n=(4294967295&e)>>>0;return this.appendUint64(t,n)}},{key:"appendInt53",value:function(e){if(!Number.isInteger(e))throw new RangeError("value is not an integer");if(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER)throw new RangeError("number out of range");var t=Math.floor(e/4294967296),n=(4294967295&e)>>>0;return this.appendInt64(t,n)}},{key:"appendUint64",value:function(e,t){if(!Number.isInteger(e)||!Number.isInteger(t))throw new RangeError("value is not an integer");if(e<0||e>4294967295||t<0||t>4294967295)throw new RangeError("number out of range");if(0===e)return this.appendUint32(t);var n=Math.ceil((64-Math.clz32(e))/7);this.offset+n>this.buf.byteLength&&this.grow();for(var r=0;r<4;r++)this.buf[this.offset+r]=127&t|128,t>>>=7;this.buf[this.offset+4]=15&t|(7&e)<<4|(5===n?0:128),e>>>=3;for(var a=5;a<n;a++)this.buf[this.offset+a]=127&e|(a===n-1?0:128),e>>>=7;return this.offset+=n,n}},{key:"appendInt64",value:function(e,t){if(!Number.isInteger(e)||!Number.isInteger(t))throw new RangeError("value is not an integer");if(e<-2147483648||e>2147483647||t<-2147483648||t>4294967295)throw new RangeError("number out of range");if(t>>>=0,0===e&&t<=2147483647)return this.appendInt32(t);if(-1===e&&t>=2147483648)return this.appendInt32(t-4294967296);var n=Math.ceil((65-Math.clz32(e>=0?e:-e-1))/7);this.offset+n>this.buf.byteLength&&this.grow();for(var r=0;r<4;r++)this.buf[this.offset+r]=127&t|128,t>>>=7;this.buf[this.offset+4]=15&t|(7&e)<<4|(5===n?0:128),e>>=3;for(var a=5;a<n;a++)this.buf[this.offset+a]=127&e|(a===n-1?0:128),e>>=7;return this.offset+=n,n}},{key:"appendRawBytes",value:function(e){return this.offset+e.byteLength>this.buf.byteLength&&this.grow(this.offset+e.byteLength),this.buf.set(e,this.offset),this.offset+=e.byteLength,e.byteLength}},{key:"appendRawString",value:function(e){if("string"!==typeof e)throw new TypeError("value is not a string");return this.appendRawBytes(d(e))}},{key:"appendPrefixedBytes",value:function(e){return this.appendUint53(e.byteLength),this.appendRawBytes(e),this}},{key:"appendPrefixedString",value:function(e){if("string"!==typeof e)throw new TypeError("value is not a string");return this.appendPrefixedBytes(d(e)),this}},{key:"appendHexString",value:function(e){return this.appendPrefixedBytes(p(e)),this}},{key:"finish",value:function(){}}]),e}(),w=function(){"use strict";function e(t){if(u(this,e),!(t instanceof Uint8Array))throw new TypeError("Not a byte array: ".concat(t));this.buf=t,this.offset=0}return c(e,[{key:"done",get:function(){return this.offset===this.buf.byteLength}},{key:"reset",value:function(){this.offset=0}},{key:"skip",value:function(e){if(this.offset+e>this.buf.byteLength)throw new RangeError("cannot skip beyond end of buffer");this.offset+=e}},{key:"readByte",value:function(){return this.offset+=1,this.buf[this.offset-1]}},{key:"readUint32",value:function(){for(var e=0,t=0;this.offset<this.buf.byteLength;){var n=this.buf[this.offset];if(28===t&&0!==(240&n))throw new RangeError("number out of range");if(e=(e|(127&n)<<t)>>>0,t+=7,this.offset++,0===(128&n))return e}throw new RangeError("buffer ended with incomplete number")}},{key:"readInt32",value:function(){for(var e=0,t=0;this.offset<this.buf.byteLength;){var n=this.buf[this.offset];if(28===t&&0!==(128&n)||28===t&&0===(64&n)&&0!==(56&n)||28===t&&0!==(64&n)&&56!==(56&n))throw new RangeError("number out of range");if(e|=(127&n)<<t,t+=7,this.offset++,0===(128&n))return 0===(64&n)||t>28?e:e|-1<<t}throw new RangeError("buffer ended with incomplete number")}},{key:"readUint53",value:function(){var e=this.readUint64(),t=e.low32,n=e.high32;if(n<0||n>2097151)throw new RangeError("number out of range");return 4294967296*n+t}},{key:"readInt53",value:function(){var e=this.readInt64(),t=e.low32,n=e.high32;if(n<-2097152||-2097152===n&&0===t||n>2097151)throw new RangeError("number out of range");return 4294967296*n+t}},{key:"readUint64",value:function(){for(var e=0,t=0,n=0;this.offset<this.buf.byteLength&&n<=28;){var r=this.buf[this.offset];if(e=(e|(127&r)<<n)>>>0,28===n&&(t=(112&r)>>>4),n+=7,this.offset++,0===(128&r))return{high32:t,low32:e}}for(n=3;this.offset<this.buf.byteLength;){var a=this.buf[this.offset];if(31===n&&0!==(254&a))throw new RangeError("number out of range");if(t=(t|(127&a)<<n)>>>0,n+=7,this.offset++,0===(128&a))return{high32:t,low32:e}}throw new RangeError("buffer ended with incomplete number")}},{key:"readInt64",value:function(){for(var e=0,t=0,n=0;this.offset<this.buf.byteLength&&n<=28;){var r=this.buf[this.offset];if(e=(e|(127&r)<<n)>>>0,28===n&&(t=(112&r)>>>4),n+=7,this.offset++,0===(128&r))return 0!==(64&r)&&(n<32&&(e=(e|-1<<n)>>>0),t|=-1<<Math.max(n-32,0)),{high32:t,low32:e}}for(n=3;this.offset<this.buf.byteLength;){var a=this.buf[this.offset];if(31===n&&0!==a&&127!==a)throw new RangeError("number out of range");if(t|=(127&a)<<n,n+=7,this.offset++,0===(128&a))return 0!==(64&a)&&n<32&&(t|=-1<<n),{high32:t,low32:e}}throw new RangeError("buffer ended with incomplete number")}},{key:"readRawBytes",value:function(e){var t=this.offset;if(t+e>this.buf.byteLength)throw new RangeError("subarray exceeds buffer size");return this.offset+=e,this.buf.subarray(t,this.offset)}},{key:"readRawString",value:function(e){return f(this.readRawBytes(e))}},{key:"readPrefixedBytes",value:function(){return this.readRawBytes(this.readUint53())}},{key:"readPrefixedString",value:function(){return f(this.readPrefixedBytes())}},{key:"readHexString",value:function(){return b(this.readPrefixedBytes())}}]),e}(),_=function(e){"use strict";i(n,e);var t=s(n);function n(e){var r;return u(this,n),(r=t.call(this)).type=e,r.state="empty",r.lastValue=void 0,r.count=0,r.literal=[],r}return c(n,[{key:"appendValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._appendValue(e,t)}},{key:"_appendValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t<=0||("empty"===this.state?(this.state=null===e?"nulls":1===t?"loneValue":"repetition",this.lastValue=e,this.count=t):"loneValue"===this.state?null===e?(this.flush(),this.state="nulls",this.count=t):e===this.lastValue?(this.state="repetition",this.count=1+t):t>1?(this.flush(),this.state="repetition",this.count=t,this.lastValue=e):(this.state="literal",this.literal=[this.lastValue],this.lastValue=e):"repetition"===this.state?null===e?(this.flush(),this.state="nulls",this.count=t):e===this.lastValue?this.count+=t:t>1?(this.flush(),this.state="repetition",this.count=t,this.lastValue=e):(this.flush(),this.state="loneValue",this.lastValue=e):"literal"===this.state?null===e?(this.literal.push(this.lastValue),this.flush(),this.state="nulls",this.count=t):e===this.lastValue?(this.flush(),this.state="repetition",this.count=1+t):t>1?(this.literal.push(this.lastValue),this.flush(),this.state="repetition",this.count=t,this.lastValue=e):(this.literal.push(this.lastValue),this.lastValue=e):"nulls"===this.state&&(null===e?this.count+=t:t>1?(this.flush(),this.state="repetition",this.count=t,this.lastValue=e):(this.flush(),this.state="loneValue",this.lastValue=e)))}},{key:"copyFrom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.count,r=t.sumValues,a=t.sumShift;if(!(e instanceof I)||e.type!==this.type)throw new TypeError("incompatible type of decoder");var o="number"===typeof n?n:Number.MAX_SAFE_INTEGER,i=0,s=0;if(n&&o>0&&e.done)throw new RangeError("cannot copy ".concat(n," values"));if(0===o||e.done)return r?{nonNullValues:i,sum:s}:{nonNullValues:i};var u=e.readValue();if(null===u){var c=Math.min(e.count+1,o);if(o-=c,e.count-=c-1,this.appendValue(null,c),n&&o>0&&e.done)throw new RangeError("cannot copy ".concat(n," values"));if(0===o||e.done)return r?{nonNullValues:i,sum:s}:{nonNullValues:i};if(null===(u=e.readValue()))throw new RangeError("null run must be followed by non-null value")}if(this.appendValue(u),o--,i++,r&&(s+=a?u>>>a:u),n&&o>0&&e.done)throw new RangeError("cannot copy ".concat(n," values"));if(0===o||e.done)return r?{nonNullValues:i,sum:s}:{nonNullValues:i};for(var l=e.count>0;o>0&&!e.done;){l||e.readRecord();var h=Math.min(e.count,o);if(e.count-=h,"literal"===e.state){i+=h;for(var d=0;d<h;d++){if(e.done)throw new RangeError("incomplete literal");var f=e.readRawValue();if(f===e.lastValue)throw new RangeError("Repetition of values is not allowed in literal");e.lastValue=f,this._appendValue(f),r&&(s+=a?f>>>a:f)}}else if("repetition"===e.state){i+=h,r&&(s+=h*(a?e.lastValue>>>a:e.lastValue));var p=e.lastValue;if(this._appendValue(p),h>1){if(this._appendValue(p),"repetition"!==this.state)throw new RangeError("Unexpected state ".concat(this.state));this.count+=h-2}}else if("nulls"===e.state){if(this._appendValue(null),"nulls"!==this.state)throw new RangeError("Unexpected state ".concat(this.state));this.count+=h-1}l=!1,o-=h}if(n&&o>0&&e.done)throw new RangeError("cannot copy ".concat(n," values"));return r?{nonNullValues:i,sum:s}:{nonNullValues:i}}},{key:"flush",value:function(){if("loneValue"===this.state)this.appendInt32(-1),this.appendRawValue(this.lastValue);else if("repetition"===this.state)this.appendInt53(this.count),this.appendRawValue(this.lastValue);else if("literal"===this.state){this.appendInt53(-this.literal.length);var e,t=o(this.literal);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.appendRawValue(n)}}catch(r){t.e(r)}finally{t.f()}}else"nulls"===this.state&&(this.appendInt32(0),this.appendUint53(this.count));this.state="empty"}},{key:"appendRawValue",value:function(e){if("int"===this.type)this.appendInt53(e);else if("uint"===this.type)this.appendUint53(e);else{if("utf8"!==this.type)throw new RangeError("Unknown RLEEncoder datatype: ".concat(this.type));this.appendPrefixedString(e)}}},{key:"finish",value:function(){"literal"===this.state&&this.literal.push(this.lastValue),("nulls"!==this.state||this.offset>0)&&this.flush()}}]),n}(m),I=function(e){"use strict";i(n,e);var t=s(n);function n(e,r){var a;return u(this,n),(a=t.call(this,r)).type=e,a.lastValue=void 0,a.count=0,a.state=void 0,a}return c(n,[{key:"done",get:function(){return 0===this.count&&this.offset===this.buf.byteLength}},{key:"reset",value:function(){this.offset=0,this.lastValue=void 0,this.count=0,this.state=void 0}},{key:"readValue",value:function(){if(this.done)return null;if(0===this.count&&this.readRecord(),this.count-=1,"literal"===this.state){var e=this.readRawValue();if(e===this.lastValue)throw new RangeError("Repetition of values is not allowed in literal");return this.lastValue=e,e}return this.lastValue}},{key:"skipValues",value:function(e){for(;e>0&&!this.done;){0===this.count&&(this.count=this.readInt53(),this.count>0?(this.lastValue=this.count<=e?this.skipRawValues(1):this.readRawValue(),this.state="repetition"):this.count<0?(this.count=-this.count,this.state="literal"):(this.count=this.readUint53(),this.lastValue=null,this.state="nulls"));var t=Math.min(e,this.count);"literal"===this.state&&this.skipRawValues(t),e-=t,this.count-=t}}},{key:"readRecord",value:function(){if(this.count=this.readInt53(),this.count>1){var e=this.readRawValue();if(("repetition"===this.state||"literal"===this.state)&&this.lastValue===e)throw new RangeError("Successive repetitions with the same value are not allowed");this.state="repetition",this.lastValue=e}else{if(1===this.count)throw new RangeError("Repetition count of 1 is not allowed, use a literal instead");if(this.count<0){if(this.count=-this.count,"literal"===this.state)throw new RangeError("Successive literals are not allowed");this.state="literal"}else{if("nulls"===this.state)throw new RangeError("Successive null runs are not allowed");if(this.count=this.readUint53(),0===this.count)throw new RangeError("Zero-length null runs are not allowed");this.lastValue=null,this.state="nulls"}}}},{key:"readRawValue",value:function(){if("int"===this.type)return this.readInt53();if("uint"===this.type)return this.readUint53();if("utf8"===this.type)return this.readPrefixedString();throw new RangeError("Unknown RLEDecoder datatype: ".concat(this.type))}},{key:"skipRawValues",value:function(e){if("utf8"===this.type)for(var t=0;t<e;t++)this.skip(this.readUint53());else{for(;e>0&&this.offset<this.buf.byteLength;)0===(128&this.buf[this.offset])&&e--,this.offset++;if(e>0)throw new RangeError("cannot skip beyond end of buffer")}}}]),n}(w),k=function(e){"use strict";i(n,e);var t=s(n);function n(){var e;return u(this,n),(e=t.call(this,"int")).absoluteValue=0,e}return c(n,[{key:"appendValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t<=0||("number"===typeof e?(r(a(n.prototype),"appendValue",this).call(this,e-this.absoluteValue,1),this.absoluteValue=e,t>1&&r(a(n.prototype),"appendValue",this).call(this,0,t-1)):r(a(n.prototype),"appendValue",this).call(this,e,t))}},{key:"copyFrom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.sumValues)throw new RangeError("unsupported options for DeltaEncoder.copyFrom()");if(!(e instanceof x))throw new TypeError("incompatible type of decoder");var o=t.count;if(o>0&&e.done)throw new RangeError("cannot copy ".concat(o," values"));if(0!==o&&!e.done){var i=e.readValue(),s=0;if(this.appendValue(i),null===i){if(s=e.count+1,void 0!==o&&o<s&&(s=o),e.count-=s-1,this.count+=s-1,o>s&&e.done)throw new RangeError("cannot copy ".concat(o," values"));if(o===s||e.done)return;0===e.count&&this.appendValue(e.readValue())}void 0!==o&&(o-=s+1);var u=r(a(n.prototype),"copyFrom",this).call(this,e,{count:o,sumValues:!0}),c=u.nonNullValues,l=u.sum;c>0&&(this.absoluteValue=l,e.absoluteValue=l)}}}]),n}(_),x=function(e){"use strict";i(n,e);var t=s(n);function n(e){var r;return u(this,n),(r=t.call(this,"int",e)).absoluteValue=0,r}return c(n,[{key:"reset",value:function(){this.offset=0,this.lastValue=void 0,this.count=0,this.state=void 0,this.absoluteValue=0}},{key:"readValue",value:function(){var e=r(a(n.prototype),"readValue",this).call(this);return null===e?null:(this.absoluteValue+=e,this.absoluteValue)}},{key:"skipValues",value:function(e){for(;e>0&&!this.done;){0===this.count&&this.readRecord();var t=Math.min(e,this.count);if("literal"===this.state)for(var n=0;n<t;n++)this.lastValue=this.readRawValue(),this.absoluteValue+=this.lastValue;else"repetition"===this.state&&(this.absoluteValue+=t*this.lastValue);e-=t,this.count-=t}}}]),n}(I),E=function(e){"use strict";i(n,e);var t=s(n);function n(){var e;return u(this,n),(e=t.call(this)).lastValue=!1,e.count=0,e}return c(n,[{key:"appendValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!1!==e&&!0!==e)throw new RangeError("Unsupported value for BooleanEncoder: ".concat(e));t<=0||(this.lastValue===e?this.count+=t:(this.appendUint53(this.count),this.lastValue=e,this.count=t))}},{key:"copyFrom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e instanceof O))throw new TypeError("incompatible type of decoder");var n=t.count,r="number"===typeof n?n:Number.MAX_SAFE_INTEGER;if(n&&r>0&&e.done)throw new RangeError("cannot copy ".concat(n," values"));if(0!==r&&!e.done){this.appendValue(e.readValue()),r--;var a=Math.min(e.count,r);for(this.count+=a,e.count-=a,r-=a;r>0&&!e.done;){if(e.count=e.readUint53(),0===e.count)throw new RangeError("Zero-length runs are not allowed");e.lastValue=!e.lastValue,this.appendUint53(this.count);var o=Math.min(e.count,r);this.count=o,this.lastValue=e.lastValue,e.count-=o,r-=o}if(n&&r>0&&e.done)throw new RangeError("cannot copy ".concat(n," values"))}}},{key:"finish",value:function(){this.count>0&&(this.appendUint53(this.count),this.count=0)}}]),n}(m),O=function(e){"use strict";i(n,e);var t=s(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).lastValue=!0,r.firstRun=!0,r.count=0,r}return c(n,[{key:"done",get:function(){return 0===this.count&&this.offset===this.buf.byteLength}},{key:"reset",value:function(){this.offset=0,this.lastValue=!0,this.firstRun=!0,this.count=0}},{key:"readValue",value:function(){if(this.done)return!1;for(;0===this.count;){if(this.count=this.readUint53(),this.lastValue=!this.lastValue,0===this.count&&!this.firstRun)throw new RangeError("Zero-length runs are not allowed");this.firstRun=!1}return this.count-=1,this.lastValue}},{key:"skipValues",value:function(e){for(;e>0&&!this.done;){if(0===this.count){if(this.count=this.readUint53(),this.lastValue=!this.lastValue,0===this.count&&!this.firstRun)throw new RangeError("Zero-length runs are not allowed");this.firstRun=!1}this.count<e?(e-=this.count,this.count=0):(this.count-=e,e=0)}}}]),n}(w);e.exports={stringToUtf8:d,utf8ToString:f,hexStringToBytes:p,bytesToHexString:b,Encoder:m,Decoder:w,RLEEncoder:_,RLEDecoder:I,DeltaEncoder:k,DeltaDecoder:x,BooleanEncoder:E,BooleanDecoder:O}},6948:function(e,t,n){var r=n(5347),a=r.init,o=r.clone,i=r.free,s=r.applyChanges,u=r.applyLocalChange,c=r.save,l=r.load,h=r.loadChanges,d=r.getPatch,f=r.getHeads,p=r.getAllChanges,v=r.getChanges,y=r.getChangesAdded,g=r.getChangeByHash,b=r.getMissingDeps,m=n(9464),w=m.receiveSyncMessage,_=m.generateSyncMessage,I=m.encodeSyncMessage,k=m.decodeSyncMessage,x=m.encodeSyncState,E=m.decodeSyncState,O=m.initSyncState;e.exports={init:a,clone:o,free:i,applyChanges:s,applyLocalChange:u,save:c,load:l,loadChanges:h,getPatch:d,getHeads:f,getAllChanges:p,getChanges:v,getChangesAdded:y,getChangeByHash:g,getMissingDeps:b,receiveSyncMessage:w,generateSyncMessage:_,encodeSyncMessage:I,decodeSyncMessage:k,encodeSyncState:x,decodeSyncState:E,initSyncState:O}},9734:function(e,t,n){var r=n(4575).default,a=n(3913).default,o=n(319).default,i=n(3038).default,s=n(3269).default,u=n(681),c=u.parseOpId,l=u.copyObject,h=n(412),d=h.COLUMN_TYPE,f=h.VALUE_TYPE,p=h.ACTIONS,v=h.OBJECT_TYPE,y=h.DOC_OPS_COLUMNS,g=h.CHANGE_COLUMNS,b=h.DOCUMENT_COLUMNS,m=h.encoderByColumnId,w=h.decoderByColumnId,_=h.makeDecoders,I=h.decodeValue,k=h.encodeChange,x=h.decodeChangeColumns,E=h.decodeChangeMeta,O=h.decodeChanges,A=h.decodeDocumentHeader,j=h.encodeDocumentHeader,R=600,C=Math.floor(750),S=g.filter((function(e){return["predNum","predActor","predCtr"].includes(e.columnName)})).map((function(e){return e.columnId}));function V(e,t,n){if(1===t.length)e[t[0]]=n;else{var r=Object.assign({},e[t[0]]);V(r,t.slice(1),n),e[t[0]]=r}}function N(e,t,n,r){var a,o=s(t);try{for(o.s();!(a=o.n()).done;){a.value.decoder.reset()}}catch(U){o.e(U)}finally{o.f()}var u=e.objActor,c=e.objCtr,l=e.keyActor,h=e.keyCtr,d=e.keyStr,f=e.idActor,p=e.idCtr,v=e.insert,y=t.map((function(e){return e.decoder})),g=i(y,14),b=g[0],m=g[1],w=g[4],_=g[5],I=g[6],k=g[7],x=g[8],E=g[13],O=0,A=0,j=!1,R=null,C=null,S=null,V=null,N=null,L=null,T=0;if(null!==c&&!r)for(;(!m.done||!b.done||!x.done)&&(C=m.readValue(),R=n[b.readValue()],x.skipValues(1),null===C||!R||C<c||C===c&&R<u);)O+=1;if((C!==c||R!==u)&&!r)return{found:!0,skipCount:O,visibleCount:A};if(null!==d){for(w.skipValues(O);!w.done;){var B=b.readValue();if(R=null===B?null:n[B],C=m.readValue(),!(null!==(N=w.readValue())&&N<d&&C===c&&R===u))break;O+=1}return{found:!0,skipCount:O,visibleCount:A}}if(I.skipValues(O),_.skipValues(O),k.skipValues(O),E.skipValues(O),V=I.readValue(),S=n[_.readValue()],L=k.readValue(),T=E.readValue(),v){if(!r&&null!==h&&h>0&&null!==l){for(O+=1;!I.done&&!_.done&&(V!==h||S!==l)&&(L&&(j=!1),0!==T||j||(A+=1,j=!0),V=I.readValue(),S=n[_.readValue()],C=m.readValue(),R=n[b.readValue()],L=k.readValue(),T=E.readValue(),C===c&&R===u);)O+=1;if(C!==c||R!==u||V!==h||S!==l||!L)return{found:!1,skipCount:O,visibleCount:A};if(L&&(j=!1),0!==T||j||(A+=1,j=!0),I.done||_.done)return{found:!0,skipCount:O,visibleCount:A};V=I.readValue(),S=n[_.readValue()],C=m.readValue(),R=n[b.readValue()],L=k.readValue(),T=E.readValue()}for(;(!L||V>p||V===p&&S>f)&&C===c&&R===u&&(O+=1,L&&(j=!1),0!==T||j||(A+=1,j=!0),!I.done&&!_.done);)V=I.readValue(),S=n[_.readValue()],C=m.readValue(),R=n[b.readValue()],L=k.readValue(),T=E.readValue()}else if(null!==h&&h>0&&null!==l){for(;(!L||V!==h||S!==l)&&C===c&&R===u&&(O+=1,L&&(j=!1),0!==T||j||(A+=1,j=!0),!I.done&&!_.done);)V=I.readValue(),S=n[_.readValue()],C=m.readValue(),R=n[b.readValue()],L=k.readValue(),T=E.readValue();if(C!==c||R!==u||V!==h||S!==l||!L)return{found:!1,skipCount:O,visibleCount:A}}return{found:!0,skipCount:O,visibleCount:A}}function L(e,t,n,r){var a=e.blocks[t],o=e.blocks[t+1];return a.lastObjectActor!==n||a.lastObjectCtr!==r||void 0===a.numVisible?0:a.lastVisibleActor===o.firstVisibleActor&&void 0!==a.lastVisibleActor&&a.lastVisibleCtr===o.firstVisibleCtr&&void 0!==a.lastVisibleCtr?a.numVisible-1:a.numVisible}function T(e,t){var n=t.objActor,r=t.objActorNum,a=t.objCtr,o=t.keyActor,i=t.keyCtr,s=t.keyStr,u=0,c=0;if(null!==a)for(;u<e.blocks.length-1;){var l=void 0===e.blocks[u].lastObjectActor?void 0:e.actorIds[e.blocks[u].lastObjectActor],h=e.blocks[u].lastObjectCtr;if(!(null===h||h<a||h===a&&l<n))break;u++}if(null!==s){for(;u<e.blocks.length-1;){var d=e.blocks[u],f=d.lastObjectActor,p=d.lastObjectCtr,v=d.lastKey;if(!(a===p&&r===f&&void 0!==v&&v<s))break;u++}return{blockIndex:u,skipCount:N(t,e.blocks[u].columns,e.actorIds,!1).skipCount,visibleCount:0}}for(var y=null===i||0===i||null===o,g=null===o?null:e.actorIds.indexOf(o),b=!1;;){if(!y&&!b)for(;u<e.blocks.length-1&&e.blocks[u].lastObjectActor===r&&e.blocks[u].lastObjectCtr===a&&!U(e.blocks[u].bloom,g,i);){if(e.blocks[u].lastObjectCtr>a)throw new RangeError("Reference element not found: ".concat(i,"@").concat(o));c+=L(e,u,r,a),u++}var m=N(t,e.blocks[u].columns,e.actorIds,b),w=m.found,_=m.skipCount,I=m.visibleCount;if(u===e.blocks.length-1||e.blocks[u].lastObjectActor!==r||e.blocks[u].lastObjectCtr!==a){if(w)return{blockIndex:u,skipCount:_,visibleCount:c+I};throw new RangeError("Reference element not found: ".concat(i,"@").concat(o))}if(w&&_<e.blocks[u].numOps)return{blockIndex:u,skipCount:_,visibleCount:c+I};b=w&&t.insert,c+=L(e,u,r,a),u++}}function B(e,t,n){for(var r=8*e.byteLength,a=n%r,o=t%r,i=(16777619*(n^t)>>>0)%r,s=0;s<7;s++)e[a>>>3]|=1<<(7&a),a=(a+o)%r,o=(o+i)%r}function U(e,t,n){for(var r=8*e.byteLength,a=n%r,o=t%r,i=(16777619*(n^t)>>>0)%r,s=0;s<7;s++){if(0===(e[a>>>3]&1<<(7&a)))return!1;a=(a+o)%r,o=(o+i)%r}return!0}function D(e){e.bloom=new Uint8Array(C),e.numOps=0,e.lastKey=void 0,e.numVisible=void 0,e.lastObjectActor=void 0,e.lastObjectCtr=void 0,e.firstVisibleActor=void 0,e.firstVisibleCtr=void 0,e.lastVisibleActor=void 0,e.lastVisibleCtr=void 0;var t,n=s(e.columns);try{for(n.s();!(t=n.n()).done;){t.value.decoder.reset()}}catch(A){n.e(A)}finally{n.f()}for(var r=e.columns.map((function(e){return e.decoder})),a=i(r,14),o=a[0],u=a[1],c=a[2],l=a[3],h=a[4],d=a[5],f=a[6],p=a[7],v=a[13];!f.done;){e.numOps+=1;var y=o.readValue(),g=u.readValue(),b=c.readValue(),m=l.readValue(),w=h.readValue(),_=d.readValue(),I=f.readValue(),k=p.readValue(),x=v.readValue();if(e.lastObjectActor===y&&e.lastObjectCtr===g||(e.numVisible=0,e.lastObjectActor=y,e.lastObjectCtr=g),null!==w)e.lastKey=w;else if(k||null!==m){e.lastKey=void 0;var E=k?_:b,O=k?I:m;B(e.bloom,E,O),0===x&&(void 0===e.firstVisibleActor&&(e.firstVisibleActor=E),void 0===e.firstVisibleCtr&&(e.firstVisibleCtr=O),e.lastVisibleActor===E&&e.lastVisibleCtr===O||(e.numVisible+=1,e.lastVisibleActor=E,e.lastVisibleCtr=O))}}}function M(e,t,n,r){if(null!==t[4])e.lastObjectCtr===t[1]&&e.lastObjectActor===t[0]&&(void 0===e.lastKey||e.lastKey<t[4])&&(e.lastKey=t[4]);else{var a=t[7]?t[5]:t[2],o=t[7]?t[6]:t[3];B(e.bloom,a,o),(0===t[13]||r)&&(void 0===e.firstVisibleActor&&(e.firstVisibleActor=a),void 0===e.firstVisibleCtr&&(e.firstVisibleCtr=o),e.lastVisibleActor=a,e.lastVisibleCtr=o)}(void 0===e.lastObjectCtr||null!==t[0]&&null!==t[1]&&(null===e.lastObjectCtr||e.lastObjectCtr<t[1]||e.lastObjectCtr===t[1]&&n[e.lastObjectActor]<n[t[0]]))&&(e.lastObjectActor=t[0],e.lastObjectCtr=t[1],e.lastKey=null!==t[4]?t[4]:void 0,e.numVisible=0)}function z(e){var t,n=s(e.columns);try{for(n.s();!(t=n.n()).done;){t.value.decoder.reset()}}catch(d){n.e(d)}finally{n.f()}for(var r=Math.ceil(e.numOps/480),a=[],o=0,i=1;i<=r;i++){var u=Math.ceil(i*e.numOps/r)-o,c=e.columns.map((function(e){return{columnId:e.columnId,encoder:m(e.columnId)}}));P(c,e.columns,u);var l=c.map((function(e){var t=w(e.columnId,e.encoder.buffer);return{columnId:e.columnId,decoder:t}})),h={columns:l};D(h),a.push(h),o+=u}return a}function H(e){var t,n=e[0].columns.map((function(e){return{columnId:e.columnId,encoder:m(e.columnId)}})),r=s(e);try{for(r.s();!(t=r.n()).done;){var a,o=t.value,i=s(o.columns);try{for(i.s();!(a=i.n()).done;){a.value.decoder.reset()}}catch(u){i.e(u)}finally{i.f()}P(n,o.columns,o.numOps)}}catch(u){r.e(u)}finally{r.f()}return n}function P(e,t,n){if(0!==n){var r,a=0,o=-1,i=0,u=-1,c=0,l=s(e);try{for(l.s();!(r=l.n()).done;){for(var h=r.value;a<t.length&&t[a].columnId<h.columnId;)a++;var f=null;a<t.length&&t[a].columnId===h.columnId&&t[a].decoder.buf.byteLength>0&&(f=t[a].decoder);var p=h.columnId>>4===o?i:n;if(h.columnId%8===d.GROUP_CARD)o=h.columnId>>4,f?i=h.encoder.copyFrom(f,{count:n,sumValues:!0}).sum:(h.encoder.appendValue(0,n),i=0);else if(h.columnId%8===d.VALUE_LEN)if(f){if(a+1===t.length||t[a+1].columnId!==h.columnId+1)throw new RangeError("VALUE_LEN column without accompanying VALUE_RAW column");u=h.columnId+1,c=h.encoder.copyFrom(f,{count:p,sumValues:!0,sumShift:4}).sum}else h.encoder.appendValue(null,p),u=h.columnId+1,c=0;else if(h.columnId%8===d.VALUE_RAW){if(h.columnId!==u)throw new RangeError("VALUE_RAW column without accompanying VALUE_LEN column");c>0&&h.encoder.appendRawBytes(f.readRawBytes(c))}else if(f)h.encoder.copyFrom(f,{count:p});else{var v=h.columnId%8!==d.BOOLEAN&&null;h.encoder.appendValue(v,p)}}}catch(y){l.e(y)}finally{l.f()}}}function Z(e,t){var n,r,a=[],o=-1,i=0,u=-1,c=0,l=s(e);try{for(l.s();!(r=l.n()).done;){var h=r.value;if(h.columnId%8===d.VALUE_RAW){if(h.columnId!==u)throw new RangeError("unexpected VALUE_RAW column");n=h.decoder.readRawBytes(c)}else if(h.columnId%8===d.GROUP_CARD)o=h.columnId>>4,n=i=h.decoder.readValue()||0;else if(h.columnId>>4===o){n=[],h.columnId%8===d.VALUE_LEN&&(u=h.columnId+1,c=0);for(var f=0;f<i;f++){var p=h.decoder.readValue();h.columnId%8===d.ACTOR_ID&&t&&"number"===typeof p&&(p=t[p]),h.columnId%8===d.VALUE_LEN&&(c+=n>>>4),n.push(p)}}else n=h.decoder.readValue(),h.columnId%8===d.ACTOR_ID&&t&&"number"===typeof n&&(n=t[n]),h.columnId%8===d.VALUE_LEN&&(u=h.columnId+1,c=n>>>4);a.push(n)}}catch(v){l.e(v)}finally{l.f()}return a}function F(e,t,n){var r,a=0,o=-1,i=0,u=s(e);try{for(u.s();!(r=u.n()).done;){for(var c=r.value;a<t.length&&t[a].columnId<c.columnId;)a++;if(a<t.length&&t[a].columnId===c.columnId){var l=n[a];if(c.columnId%8===d.GROUP_CARD)o=c.columnId>>4,i=l,c.encoder.appendValue(l);else if(c.columnId>>4===o){if(!Array.isArray(l)||l.length!==i)throw new RangeError("bad group value");var h,f=s(l);try{for(f.s();!(h=f.n()).done;){var p=h.value;c.encoder.appendValue(p)}}catch(g){f.e(g)}finally{f.f()}}else c.columnId%8===d.VALUE_RAW?l&&c.encoder.appendRawBytes(l):c.encoder.appendValue(l)}else if(c.columnId%8===d.GROUP_CARD)o=c.columnId>>4,i=0,c.encoder.appendValue(0);else if(c.columnId%8!==d.VALUE_RAW){var v=c.columnId>>4===o?i:1,y=null;c.columnId%8===d.BOOLEAN&&(y=!1),c.columnId%8===d.VALUE_LEN&&(y=0),c.encoder.appendValue(y,v)}}}catch(g){u.e(g)}finally{u.f()}}function q(e,t){var n=e.blocks[t];if(n.columns[8].decoder.done){if(t===e.blocks.length-1)return{docOp:null,blockIndex:t};t+=1,n=e.blocks[t];var r,a=s(n.columns);try{for(a.s();!(r=a.n()).done;){r.value.decoder.reset()}}catch(o){a.e(o)}finally{a.f()}return{docOp:Z(n.columns),blockIndex:t}}return{docOp:Z(n.columns),blockIndex:t}}function G(e,t){for(;t.changeIndex<t.changes.length-1&&(!t.columns||t.columns[8].decoder.done);){t.changeIndex+=1;var n=t.changes[t.changeIndex];t.columns=_(n.columns,g),t.opCtr=n.startOp,Q(e,t.columns);var r=ee(e.actorIds,n),a=r.actorIds,o=r.actorTable;e.actorIds=a,t.actorTable=o,t.actorIndex=e.actorIds.indexOf(n.actorIds[0])}if(t.columns[8].decoder.done)return t.done=!0,void(t.nextOp=null);t.nextOp=Z(t.columns,t.actorTable),t.nextOp[5]=t.actorIndex,t.nextOp[6]=t.opCtr,t.changes[t.changeIndex].maxOp=t.opCtr,t.opCtr>e.maxOp&&(e.maxOp=t.opCtr),t.opCtr+=1;var i=t.nextOp;if(null===i[1]&&null!==i[0]||null!==i[1]&&null===i[0])throw new RangeError("Mismatched object reference: (".concat(i[1],", ").concat(i[0],")"));if(null===i[3]&&null!==i[2]||0===i[3]&&null!==i[2]||i[3]>0&&null===i[2])throw new RangeError("Mismatched operation key: (".concat(i[3],", ").concat(i[2],")"))}function K(e,t){return"list"===t||"text"===t?{objectId:e,type:t,edits:[]}:{objectId:e,type:t,props:{}}}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=c(e),a=c(t);return r.actorId===a.actorId&&r.counter+n===a.counter}function Y(e,t){if(0!==e.length){var n=e[e.length-1];"insert"===n.action&&"insert"===t.action&&n.index===t.index-1&&"value"===n.value.type&&"value"===t.value.type&&n.elemId===n.opId&&t.elemId===t.opId&&W(n.elemId,t.elemId,1)&&n.value.datatype===t.value.datatype&&typeof n.value.value===typeof t.value.value?(n.action="multi-insert",t.value.datatype&&(n.datatype=t.value.datatype),n.values=[n.value.value,t.value.value],delete n.value,delete n.opId):"multi-insert"===n.action&&"insert"===t.action&&n.index+n.values.length===t.index&&"value"===t.value.type&&t.elemId===t.opId&&W(n.elemId,t.elemId,n.values.length)&&n.datatype===t.value.datatype&&typeof n.values[0]===typeof t.value.value?n.values.push(t.value.value):"remove"===n.action&&"remove"===t.action&&n.index===t.index?n.count+=t.count:e.push(t)}else e.push(t)}function J(e,t,n,r,a,o){var i=!1;if(o)for(;!i&&e.length>0;){var s=e[e.length-1];if("insert"!==s.action&&"update"!==s.action||s.index!==t){if("multi-insert"!==s.action||s.index+s.values.length-1!==t)break;s.values.pop(),i=!0}else e.pop(),i="insert"===s.action}Y(e,i?{action:"insert",index:t,elemId:n,opId:r,value:a}:{action:"update",index:t,opId:r,value:a})}function X(e,t,n,r,a,o,i,u){var c=!t,l=r[8]<p.length?v[p[r[8]]]:null,h="".concat(r[6],"@").concat(a.actorIds[r[5]]),d=r[7]?r[5]:r[2],y=r[7]?r[6]:r[3],g=r[4]?r[4]:"".concat(y,"@").concat(a.actorIds[d]);r[8]%2!==0||a.objectMeta[h]||(a.objectMeta[h]={parentObj:n,parentKey:g,opId:h,type:l,children:{}},V(a.objectMeta,[n,"children",g,h],{objectId:h,type:l,props:{}}));var b=!o[g];o[g]||(o[g]={visibleOps:[],hasChild:!1});var m=void 0!==u&&r[13]>0;m||(o[g].visibleOps.push(r),o[g].hasChild=o[g].hasChild||r[8]%2===0);var w,_,k=a.objectMeta[n].children[g];if(o[g].hasChild||k&&Object.keys(k).length>0){var x,E={},O=s(o[g].visibleOps);try{for(O.s();!(x=O.n()).done;){var A=x.value,j="".concat(A[6],"@").concat(a.actorIds[A[5]]);if("set"===p[A[8]])E[j]=Object.assign({type:"value"},I(A[9],A[10]));else if(A[8]%2===0){var R=A[8]<p.length?v[p[A[8]]]:null;E[j]=K(j,R)}}}catch(D){O.e(D)}finally{O.f()}V(a.objectMeta,[n,"children",g],E)}if(m&&"set"===p[r[8]]&&(15&r[9])===f.COUNTER){o[g]||(o[g]={visibleOps:[],hasChild:!1}),o[g].counterStates||(o[g].counterStates={});for(var C=o[g].counterStates,S={opId:h,value:I(r[9],r[10]).value,succs:{}},N=0;N<r[13];N++){var L="".concat(r[15][N],"@").concat(a.actorIds[r[14][N]]);C[L]=S,S.succs[L]=!0}}else if("inc"===p[r[8]]){if(!o[g]||!o[g].counterStates||!o[g].counterStates[h])throw new RangeError("increment operation ".concat(h," for unknown counter"));var T=o[g].counterStates[h];T.value+=I(r[9],r[10]).value,delete T.succs[h],0===Object.keys(T.succs).length&&(w=T.opId,_={type:"value",datatype:"counter",value:T.value})}else m||("set"===p[r[8]]?(w=h,_=Object.assign({type:"value"},I(r[9],r[10]))):r[8]%2===0&&(e[h]||(e[h]=K(h,l)),w=h,_=e[h]));e[n]||(e[n]=K(n,a.objectMeta[n].type));var B=e[n];if(null===r[4])if(0!==u||c||"insert"!==o[g].action||(o[g].action="update",function(e,t,n){for(var r=[];e.length>0;){var a=e[e.length-1];if("insert"===a.action){if(a.index!==t)throw new RangeError("last edit has unexpected index");r.unshift(e.pop());break}if("update"!==a.action)throw new RangeError("last edit has unexpected action");if(a.index!==t)throw new RangeError("last edit has unexpected index");r.unshift(e.pop())}for(var o=!0,i=0,s=r;i<s.length;i++){var u=s[i];J(e,t,n,u.opId,u.value,o),o=!1}}(B.edits,i,g),t&&t.lastObjectActor===r[0]&&t.lastObjectCtr===r[1]&&(t.numVisible-=1)),_)if(o[g].action||void 0!==u&&!c)if("remove"===o[g].action){var U=B.edits[B.edits.length-1];if("remove"!==U.action)throw new RangeError("last edit has unexpected type");U.count>1?U.count-=1:B.edits.pop(),o[g].action="update",J(B.edits,i,g,w,_,!0),t&&t.lastObjectActor===r[0]&&t.lastObjectCtr===r[1]&&(t.numVisible+=1)}else J(B.edits,i,g,w,_,!o[g].action),o[g].action||(o[g].action="update");else o[g].action="insert",Y(B.edits,{action:"insert",index:i,elemId:g,opId:w,value:_}),t&&t.lastObjectActor===r[0]&&t.lastObjectCtr===r[1]&&(t.numVisible+=1);else 0!==u||o[g].action||(o[g].action="remove",Y(B.edits,{action:"remove",index:i,count:1}),t&&t.lastObjectActor===r[0]&&t.lastObjectCtr===r[1]&&(t.numVisible-=1));else!_&&c||(!b&&B.props[r[4]]||(B.props[r[4]]={}),_&&(B.props[r[4]][w]=_))}function $(e,t,n){var r,a=i(t.nextOp,8),u=a[0],c=a[1],l=a[2],h=a[3],d=a[4],f=a[5],v=a[6],y=a[7],g=null===u?null:n.actorIds[u],b=T(n,{objActor:g,objActorNum:u,objCtr:c,keyActor:null===l?null:n.actorIds[l],keyActorNum:l,keyCtr:h,keyStr:d,idActor:n.actorIds[f],idCtr:v,insert:y,objId:null===g?"_root":"".concat(c,"@").concat(g)}),_=b.blockIndex,I=b.skipCount,k=b.visibleCount,x=n.blocks[_],E=s(x.columns);try{for(E.s();!(r=E.n()).done;){r.value.decoder.reset()}}catch(W){E.e(W)}finally{E.f()}var O=0===I||void 0===x.firstVisibleActor||!y&&x.firstVisibleActor===l&&x.firstVisibleCtr===h,A={columns:void 0,bloom:new Uint8Array(x.bloom),numOps:I,lastKey:x.lastKey,numVisible:x.numVisible,lastObjectActor:x.lastObjectActor,lastObjectCtr:x.lastObjectCtr,firstVisibleActor:O?void 0:x.firstVisibleActor,firstVisibleCtr:O?void 0:x.firstVisibleCtr,lastVisibleActor:void 0,lastVisibleCtr:void 0},j=x.columns.map((function(e){return{columnId:e.columnId,encoder:m(e.columnId)}}));P(j,x.columns,I);for(var C=function(e,t,n,r,a,o,i){var u,c=r.nextOp,l=c[7],h=c[0],d=c[1],f=null===h?"_root":"".concat(d,"@").concat(a.actorIds[h]),v=r.actorIndex,y=a.actorIds[v],g=!1,b=!1,m={},w=q(a,i);u=w.docOp,i=w.blockIndex;var _=null===u?0:1,I=null===u?0:u[13],k=null,x=[],E=[],O=[],A=null;for(r.objectIds.add(f);;){if(0===x.length){g=!1;for(var j=r.nextOp;!r.done&&j[5]===v&&j[7]===l&&j[0]===c[0]&&j[1]===c[1];){for(var R=x.length>0?x[x.length-1]:null,C=!1,S=0;S<j[13];S++){var V,N=s(x);try{for(N.s();!(V=N.n()).done;){var L=V.value;j[14][S]===L[5]&&j[15][S]===L[6]&&(C=!0)}}catch(W){N.e(W)}finally{N.f()}}if(j===c);else if(l&&null!==R&&null===j[4]&&j[2]===R[5]&&j[3]===R[6]);else if((l||null===R||null===j[4]||j[4]!==R[4]||C)&&(l||null===R||null!==j[4]||null!==R[4]||j[2]!==R[2]||j[3]!==R[3]||C))if(!l&&null===R&&null===j[4]&&u&&u[7]&&null===u[4]&&u[5]===j[2]&&u[6]===j[3]);else if(l||null!==R||null===j[4]||null===A||!(A<j[4]))break;A=null!==j?j[4]:null,x.push(r.nextOp),E.push(r.columns),O.push(new Array(r.nextOp[13])),G(a,r),j=r.nextOp}}x.length>0&&(k=x[0]);var T=u&&u[0]===k[0]&&u[1]===k[1],B=u&&null!==u[4]&&u[4]===k[4],U=u&&null===u[4]&&null===k[4]&&(!u[7]&&u[2]===k[2]&&u[3]===k[3]||u[7]&&u[5]===k[2]&&u[6]===k[3]);if(0===x.length&&(!T||!B&&!U))break;var D=!1,z=0;if(l||!T||null===u[4]&&null!==k[4]||null!==u[4]&&null!==k[4]&&k[4]<u[4]){if(z=x.length,!T&&!g&&null===k[4]&&!k[7])throw new RangeError("could not find list element with ID: "+"".concat(k[3],"@").concat(a.actorIds[k[2]]))}else if(B||U||g){for(var H=0;H<x.length;H++)for(var P=x[H],Z=0;Z<P[13];Z++)if(P[14][Z]===u[5]&&P[15][Z]===u[6]){for(var K=0;K<u[13]&&(u[15][K]<P[6]||u[15][K]===P[6]&&a.actorIds[u[14][K]]<y);)K++;u[15].splice(K,0,P[6]),u[14].splice(K,0,v),u[13]++,O[H][Z]=!0;break}if(U&&(g=!0),g&&!U)z=x.length;else if(0===x.length||u[6]<k[6]||u[6]===k[6]&&a.actorIds[u[5]]<y){D=!0,X(e,t,f,u,a,m,o,I);for(var Y=x.length-1;Y>=0;Y--){for(var J=!0,$=0;$<x[Y][13];$++)O[Y][$]||(J=!1);"del"===p[x[Y][8]]&&J&&(x.splice(Y,1),E.splice(Y,1),O.splice(Y,1))}}else{if(u[6]===k[6]&&a.actorIds[u[5]]===y)throw new RangeError("duplicate operation ID: ".concat(k[6],"@").concat(y));z=1}}else D=!0;if(D){F(n,a.blocks[i].columns,u),M(t,u,a.actorIds,!1),u[7]&&b&&(b=!1,o++),0===u[13]&&(b=!0),t.numOps++;var Q=q(a,i);u=Q.docOp,i=Q.blockIndex,null!==u&&(_++,I=u[13])}if(z>0){for(var ee=0;ee<z;ee++){for(var te=x[ee],ne=0;ne<te[13];ne++)if(!O[ee][ne])throw new RangeError("no matching operation for pred: ".concat(te[15][ne],"@").concat(a.actorIds[te[14][ne]]));F(n,E[ee],te),M(t,te,a.actorIds,!0),X(e,t,f,te,a,m,o),te[7]?(b=!1,o++):b=!0}z===x.length?(x.length=0,E.length=0,O.length=0):(x.splice(0,z),E.splice(0,z),O.splice(0,z)),t.numOps+=z}}return u&&(F(n,a.blocks[i].columns,u),t.numOps++,M(t,u,a.actorIds,!1)),{docOpsConsumed:_,blockIndex:i}}(e,A,j,t,n,k,_),S=C.blockIndex,V=C.docOpsConsumed,N=n.blocks[S],L=-I-V,B=_;B<=S;B++)L+=n.blocks[B].numOps;P(j,N.columns,L),A.numOps+=L;var U,D=s(N.columns);try{for(D.s();!(U=D.n()).done;){var H=U.value;if(!H.decoder.done)throw new RangeError("excess ops in column ".concat(H.columnId))}}catch(W){D.e(W)}finally{D.f()}if(A.columns=j.map((function(e){var t=w(e.columnId,e.encoder.buffer);return{columnId:e.columnId,decoder:t}})),_===S&&A.numOps<=R)L>0&&void 0!==x.lastVisibleActor&&void 0!==x.lastVisibleCtr&&(A.lastVisibleActor=x.lastVisibleActor,A.lastVisibleCtr=x.lastVisibleCtr),n.blocks[_]=A;else{var Z,K=z(A);(Z=n.blocks).splice.apply(Z,[_,S-_+1].concat(o(K)))}}function Q(e,t){if(t[0].columnId!==g[0].columnId||"objActor"!==g[0].columnName||t[1].columnId!==g[1].columnId||"objCtr"!==g[1].columnName||t[2].columnId!==g[2].columnId||"keyActor"!==g[2].columnName||t[3].columnId!==g[3].columnId||"keyCtr"!==g[3].columnName||t[4].columnId!==g[4].columnId||"keyStr"!==g[4].columnName||t[5].columnId!==g[5].columnId||"idActor"!==g[5].columnName||t[6].columnId!==g[6].columnId||"idCtr"!==g[6].columnName||t[7].columnId!==g[7].columnId||"insert"!==g[7].columnName||t[8].columnId!==g[8].columnId||"action"!==g[8].columnName||t[9].columnId!==g[9].columnId||"valLen"!==g[9].columnName||t[10].columnId!==g[10].columnId||"valRaw"!==g[10].columnName||t[13].columnId!==g[13].columnId||"predNum"!==g[13].columnName||t[14].columnId!==g[14].columnId||"predActor"!==g[14].columnName||t[15].columnId!==g[15].columnId||"predCtr"!==g[15].columnName)throw new RangeError("unexpected columnId");var n=e.blocks[0].columns;if(!t.every((function(e){return S.includes(e.columnId)||n.find((function(t){return t.columnId===e.columnId}))}))){var r,a=n.map((function(e){return{columnId:e.columnId}})),o=s(t);try{var i=function(){var e=r.value.columnId;S.includes(e)||n.find((function(t){return t.columnId===e}))||a.push({columnId:e})};for(o.s();!(r=o.n()).done;)i()}catch(h){o.e(h)}finally{o.f()}a.sort((function(e,t){return e.columnId-t.columnId}));for(var u=0;u<e.blocks.length;u++){var c=l(e.blocks[u]);c.columns=_(c.columns.map((function(e){return{columnId:e.columnId,buffer:e.decoder.buf}})),a),e.blocks[u]=c}}}function ee(e,t){if(e.indexOf(t.actorIds[0])<0){if(1!==t.seq)throw new RangeError("Seq ".concat(t.seq," is the first change for actor ").concat(t.actorIds[0]));e=e.concat([t.actorIds[0]])}var n,r=[],a=s(t.actorIds);try{for(a.s();!(n=a.n()).done;){var o=n.value,i=e.indexOf(o);if(i<0)throw new RangeError("actorId ".concat(o," is not known to document"));r.push(i)}}catch(u){a.e(u)}finally{a.f()}return{actorIds:e,actorTable:r}}function te(e,t,n){var r,a=s(t);try{for(a.s();!(r=a.n()).done;)for(var o=r.value,u=n.objectMeta[o],l=null,h=!1;;){var d=l&&Object.keys(u.children[l.parentKey]).length>0;if(e[o]||(e[o]=K(o,u.type)),l&&d)if("list"===u.type||"text"===u.type){var f,p=s(e[o].edits);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.opId&&u.children[l.parentKey][v.opId]&&(h=!0)}}catch(N){p.e(N)}finally{p.f()}if(!h)for(var y=c(o),g=c(l.parentKey),b={objActor:y.actorId,objCtr:y.counter,keyActor:g.actorId,keyCtr:g.counter,objActorNum:n.actorIds.indexOf(y.actorId),keyActorNum:n.actorIds.indexOf(g.actorId),keyStr:null,insert:!1,objId:o},m=T(n,b).visibleCount,w=0,_=Object.entries(u.children[l.parentKey]);w<_.length;w++){var I=i(_[w],2),k=I[0],x=I[1],E=x;x.objectId&&(e[x.objectId]||(e[x.objectId]=K(x.objectId,x.type)),E=e[x.objectId]);var O={action:"update",index:m,opId:k,value:E};Y(e[o].edits,O)}}else{e[o].props[l.parentKey]||(e[o].props[l.parentKey]={});for(var A=e[o].props[l.parentKey],j=0,R=Object.entries(u.children[l.parentKey]);j<R.length;j++){var C=i(R[j],2),S=C[0],V=C[1];A[S]?h=!0:V.objectId?(e[V.objectId]||(e[V.objectId]=K(V.objectId,V.type)),A[S]=e[V.objectId]):A[S]=V}}if(h||!u.parentObj||l&&!d)break;l=u,o=u.parentObj,u=n.objectMeta[o]}}catch(N){a.e(N)}finally{a.f()}return e}function ne(e,t,n,r,a){var i,u=new Set(n.heads),c=new Set,h=l(n.clock),d=[],f=[],p=s(t);try{for(p.s();!(i=p.n()).done;){var v=i.value;if(void 0===n.changeIndexByHash[v.hash]&&!c.has(v.hash)){var y,g=(h[v.actor]||0)+1,b=!0,m=s(v.deps);try{for(m.s();!(y=m.n()).done;){var w=y.value,_=n.changeIndexByHash[w];void 0!==_&&-1!==_||c.has(w)||(b=!1)}}catch(O){m.e(O)}finally{m.f()}if(b){if(v.seq<g){if(a)throw new RangeError("Reuse of sequence number ".concat(v.seq," for actor ").concat(v.actor));return[[],t]}if(v.seq>g)throw new RangeError("Skipped sequence number ".concat(g," for actor ").concat(v.actor));h[v.actor]=v.seq,c.add(v.hash);var I,k=s(v.deps);try{for(k.s();!(I=k.n()).done;){var x=I.value;u.delete(x)}}catch(O){k.e(O)}finally{k.f()}u.add(v.hash),d.push(v)}else f.push(v)}}}catch(O){p.e(O)}finally{p.f()}if(d.length>0){var E={changes:d,changeIndex:-1,objectIds:r};for(G(n,E);!E.done;)$(e,E,n);n.heads=o(u).sort(),n.clock=h}return[d,f]}function re(e){var t,n=s(e.blocks[0].columns);try{for(n.s();!(t=n.n()).done;){t.value.decoder.reset()}}catch(v){n.e(v)}finally{n.f()}for(var r={},a=null,o=0,i={_root:{objectId:"_root",type:"map",props:{}}},u=null,c=null,l="_root",h=!1,d=0;;){var f=q(e,o);if(a=f.docOp,o=f.blockIndex,null===a)break;a[0]===u&&a[1]===c||(l="".concat(a[1],"@").concat(e.actorIds[a[0]]),u=a[0],c=a[1],r={},d=0,h=!1),a[7]&&h&&(h=!1,d++),0===a[13]&&(h=!0),a[6]>e.maxOp&&(e.maxOp=a[6]);for(var p=0;p<a[13];p++)a[15][p]>e.maxOp&&(e.maxOp=a[15][p]);X(i,null,l,a,e,r,d,a[13])}return i._root}function ae(e,t,n,r){F(e,b,[n.indexOf(t.actor),t.seq,t.maxOp,t.time,t.message,t.deps.length,t.deps.map((function(e){return r[e]})),t.extraBytes?t.extraBytes.byteLength<<4|f.BYTES:f.BYTES,t.extraBytes])}var oe=function(){"use strict";function e(t){if(r(this,e),this.maxOp=0,this.haveHashGraph=!1,this.changes=[],this.changeIndexByHash={},this.dependenciesByHash={},this.dependentsByHash={},this.hashesByActor={},this.actorIds=[],this.heads=[],this.clock={},this.queue=[],this.objectMeta={_root:{parentObj:null,parentKey:null,opId:null,type:"map",children:{}}},t){var n=A(t),a=function(e){var t=_(e.changesColumns,b),n=t[0].decoder,r=t[1].decoder,a=t[5].decoder,i=t[6].decoder;if(t[0].columnId!==b[0].columnId||"actor"!==b[0].columnName||t[1].columnId!==b[1].columnId||"seq"!==b[1].columnName||t[5].columnId!==b[5].columnId||"depsNum"!==b[5].columnName||t[6].columnId!==b[6].columnId||"depsIndex"!==b[6].columnName)throw new RangeError("unexpected columnId");for(var u=0,c={},l=[],h=new Set;!n.done;){var d=n.readValue(),f=r.readValue(),p=a.readValue(),v=e.actorIds[d];if(1!==f&&f!==c[v]+1)throw new RangeError("Expected seq ".concat(c[v]+1,", got ").concat(f," for actor ").concat(v));l.push(d),c[v]=f,h.add(u);for(var y=0;y<p;y++)h.delete(i.readValue());u++}var g,w=o(h).map((function(t){return e.actorIds[l[t]]})).sort(),I=s(t);try{for(I.s();!(g=I.n()).done;)g.value.decoder.reset()}catch(x){I.e(x)}finally{I.f()}var k=t.map((function(e){return{columnId:e.columnId,encoder:m(e.columnId)}}));return P(k,t,u),{clock:c,headActors:w,encoders:k,numChanges:u}}(n),i=a.clock,u=a.headActors,c=a.encoders,l=a.numChanges;if(this.binaryDoc=t,this.changes=new Array(l),this.actorIds=n.actorIds,this.heads=n.heads,this.clock=i,this.changesEncoders=c,this.extraBytes=n.extraBytes,1===n.heads.length&&1===u.length&&(this.hashesByActor[u[0]]=[],this.hashesByActor[u[0]][i[u[0]]-1]=n.heads[0]),n.heads.length===n.headsIndexes.length)for(var h=0;h<n.heads.length;h++)this.changeIndexByHash[n.heads[h]]=n.headsIndexes[h];else if(1===n.heads.length)this.changeIndexByHash[n.heads[0]]=l-1;else{var d,f=s(n.heads);try{for(f.s();!(d=f.n()).done;){var p=d.value;this.changeIndexByHash[p]=-1}}catch(g){f.e(g)}finally{f.f()}}this.blocks=[{columns:_(n.opsColumns,y)}],D(this.blocks[0]),this.blocks[0].numOps>R&&(this.blocks=z(this.blocks[0]));var v={blocks:this.blocks,actorIds:this.actorIds,objectMeta:this.objectMeta,maxOp:0};this.initPatch=re(v),this.maxOp=v.maxOp}else this.haveHashGraph=!0,this.changesEncoders=b.map((function(e){return{columnId:e.columnId,encoder:m(e.columnId)}})),this.blocks=[{columns:_([],y),bloom:new Uint8Array(C),numOps:0,lastKey:void 0,numVisible:void 0,lastObjectActor:void 0,lastObjectCtr:void 0,firstVisibleActor:void 0,firstVisibleCtr:void 0,lastVisibleActor:void 0,lastVisibleCtr:void 0}]}return a(e,[{key:"clone",value:function(){var t=new e;return t.maxOp=this.maxOp,t.haveHashGraph=this.haveHashGraph,t.changes=this.changes.slice(),t.changeIndexByHash=l(this.changeIndexByHash),t.dependenciesByHash=l(this.dependenciesByHash),t.dependentsByHash=Object.entries(this.dependentsByHash).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return e[r]=a.slice(),e}),{}),t.hashesByActor=Object.entries(this.hashesByActor).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return e[r]=a.slice(),e}),{}),t.actorIds=this.actorIds,t.heads=this.heads,t.clock=this.clock,t.blocks=this.blocks,t.objectMeta=this.objectMeta,t.queue=this.queue,t}},{key:"applyChanges",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(e){var t=x(e);return t.buffer=e,t})),r={_root:{objectId:"_root",type:"map",props:{}}},a={maxOp:this.maxOp,changeIndexByHash:this.changeIndexByHash,actorIds:this.actorIds,heads:this.heads,clock:this.clock,blocks:this.blocks.slice(),objectMeta:Object.assign({},this.objectMeta)},o=0===this.queue.length?n:n.concat(this.queue),u=[],c=new Set;;){var l=ne(r,o,a,c,this.haveHashGraph),h=i(l,2),d=h[0],f=h[1];if(o=f,d.length>0&&(u=u.concat(d)),0===o.length)break;if(0===d.length){if(this.haveHashGraph)break;this.computeHashGraph(),a.changeIndexByHash=this.changeIndexByHash}}te(r,c,a);var p,v=s(u);try{for(v.s();!(p=v.n()).done;){var y=p.value;this.changes.push(y.buffer),this.hashesByActor[y.actor]||(this.hashesByActor[y.actor]=[]),this.hashesByActor[y.actor][y.seq-1]=y.hash,this.changeIndexByHash[y.hash]=this.changes.length-1,this.dependenciesByHash[y.hash]=y.deps,this.dependentsByHash[y.hash]=[];var g,b=s(y.deps);try{for(b.s();!(g=b.n()).done;){var m=g.value;this.dependentsByHash[m]||(this.dependentsByHash[m]=[]),this.dependentsByHash[m].push(y.hash)}}catch(_){b.e(_)}finally{b.f()}ae(this.changesEncoders,y,a.actorIds,this.changeIndexByHash)}}catch(_){v.e(_)}finally{v.f()}this.maxOp=a.maxOp,this.actorIds=a.actorIds,this.heads=a.heads,this.clock=a.clock,this.blocks=a.blocks,this.objectMeta=a.objectMeta,this.queue=o,this.binaryDoc=null,this.initPatch=null;var w={maxOp:this.maxOp,clock:this.clock,deps:this.heads,pendingChanges:this.queue.length,diffs:r._root};return t&&1===n.length&&(w.actor=n[0].actor,w.seq=n[0].seq),w}},{key:"computeHashGraph",value:function(){var e=this.save();this.haveHashGraph=!0,this.changes=[],this.changeIndexByHash={},this.dependenciesByHash={},this.dependentsByHash={},this.hashesByActor={},this.clock={};var t,n=s(O([e]));try{for(n.s();!(t=n.n()).done;){var r=t.value,a=k(r);this.changes.push(a),this.changeIndexByHash[r.hash]=this.changes.length-1,this.dependenciesByHash[r.hash]=r.deps,this.dependentsByHash[r.hash]=[];var o,i=s(r.deps);try{for(i.s();!(o=i.n()).done;){var u=o.value;this.dependentsByHash[u].push(r.hash)}}catch(l){i.e(l)}finally{i.f()}1===r.seq&&(this.hashesByActor[r.actor]=[]),this.hashesByActor[r.actor].push(r.hash);var c=(this.clock[r.actor]||0)+1;if(r.seq!==c)throw new RangeError("Expected seq ".concat(c,", got seq ").concat(r.seq," from actor ").concat(r.actor));this.clock[r.actor]=r.seq}}catch(l){n.e(l)}finally{n.f()}}},{key:"getChanges",value:function(e){var t=this;if(this.haveHashGraph||this.computeHashGraph(),0===e.length)return this.changes.slice();var n,r=[],a={},i=[],u=s(e);try{for(u.s();!(n=u.n()).done;){var c,l=n.value;a[l]=!0;var h=this.dependentsByHash[l];if(!h)throw new RangeError("hash not found: ".concat(l));(c=r).push.apply(c,o(h))}}catch(g){u.e(g)}finally{u.f()}for(;r.length>0;){var d,f=r.pop();if(a[f]=!0,i.push(f),!this.dependenciesByHash[f].every((function(e){return a[e]})))break;(d=r).push.apply(d,o(this.dependentsByHash[f]))}if(0===r.length&&this.heads.every((function(e){return a[e]})))return i.map((function(e){return t.changes[t.changeIndexByHash[e]]}));for(r=e.slice(),a={};r.length>0;){var p=r.pop();if(!a[p]){var v,y=this.dependenciesByHash[p];if(!y)throw new RangeError("hash not found: ".concat(p));(v=r).push.apply(v,o(y)),a[p]=!0}}return this.changes.filter((function(e){return!a[E(e,!0).hash]}))}},{key:"getChangesAdded",value:function(e){var t=this;this.haveHashGraph||this.computeHashGraph();for(var n=this.heads.slice(),r={},a=[];n.length>0;){var i=n.pop();r[i]||void 0!==e.changeIndexByHash[i]||(r[i]=!0,a.push(i),n.push.apply(n,o(this.dependenciesByHash[i])))}return a.reverse().map((function(e){return t.changes[t.changeIndexByHash[e]]}))}},{key:"getChangeByHash",value:function(e){return this.haveHashGraph||this.computeHashGraph(),this.changes[this.changeIndexByHash[e]]}},{key:"getMissingDeps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.haveHashGraph||this.computeHashGraph();var t,n=new Set(e),r=new Set,a=s(this.queue);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.add(o.hash);var i,u=s(o.deps);try{for(u.s();!(i=u.n()).done;){var c=i.value;n.add(c)}}catch(p){u.e(p)}finally{u.f()}}}catch(p){a.e(p)}finally{a.f()}var l,h=[],d=s(n);try{for(d.s();!(l=d.n()).done;){var f=l.value;void 0!==this.changeIndexByHash[f]||r.has(f)||h.push(f)}}catch(p){d.e(p)}finally{d.f()}return h.sort()}},{key:"save",value:function(){var e=this;if(this.binaryDoc)return this.binaryDoc;var t=this.changesEncoders.map((function(e){return{columnId:e.columnId,encoder:m(e.columnId)}}));return P(t,this.changesEncoders.map((function(e){var t=w(e.columnId,e.encoder.buffer);return{columnId:e.columnId,decoder:t}})),this.changes.length),this.binaryDoc=j({changesColumns:this.changesEncoders,opsColumns:H(this.blocks),actorIds:this.actorIds,heads:this.heads,headsIndexes:this.heads.map((function(t){return e.changeIndexByHash[t]})),extraBytes:this.extraBytes}),this.changesEncoders=t,this.binaryDoc}},{key:"getPatch",value:function(){var e={blocks:this.blocks,actorIds:this.actorIds,objectMeta:{_root:{parentObj:null,parentKey:null,opId:null,type:"map",children:{}}},maxOp:0},t=this.initPatch?this.initPatch:re(e);return{maxOp:this.maxOp,clock:this.clock,deps:this.heads,pendingChanges:this.queue.length,diffs:t}}}]),e}();e.exports={MAX_BLOCK_SIZE:R,BackendDoc:oe,bloomFilterContains:U}},9464:function(e,t,n){var r=n(3038).default,a=n(319).default,o=n(3269).default,i=n(4575).default,s=n(3913).default,u=n(5347),c=n(1145),l=c.hexStringToBytes,h=c.bytesToHexString,d=c.Encoder,f=c.Decoder,p=n(412).decodeChangeMeta,v=n(681).copyObject,y=function(){"use strict";function e(t){if(i(this,e),Array.isArray(t)){this.numEntries=t.length,this.numBitsPerEntry=10,this.numProbes=7,this.bits=new Uint8Array(Math.ceil(this.numEntries*this.numBitsPerEntry/8));var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.addHash(a)}}catch(u){r.e(u)}finally{r.f()}}else{if(!(t instanceof Uint8Array))throw new TypeError("invalid argument");if(0===t.byteLength)this.numEntries=0,this.numBitsPerEntry=0,this.numProbes=0,this.bits=t;else{var s=new f(t);this.numEntries=s.readUint32(),this.numBitsPerEntry=s.readUint32(),this.numProbes=s.readUint32(),this.bits=s.readRawBytes(Math.ceil(this.numEntries*this.numBitsPerEntry/8))}}}return s(e,[{key:"bytes",get:function(){if(0===this.numEntries)return new Uint8Array(0);var e=new d;return e.appendUint32(this.numEntries),e.appendUint32(this.numBitsPerEntry),e.appendUint32(this.numProbes),e.appendRawBytes(this.bits),e.buffer}},{key:"getProbes",value:function(e){var t=l(e),n=8*this.bits.byteLength;if(32!==t.byteLength)throw new RangeError("Not a 256-bit hash: ".concat(e));for(var r=((t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0)%n,a=((t[4]|t[5]<<8|t[6]<<16|t[7]<<24)>>>0)%n,o=((t[8]|t[9]<<8|t[10]<<16|t[11]<<24)>>>0)%n,i=[r],s=1;s<this.numProbes;s++)r=(r+a)%n,a=(a+o)%n,i.push(r);return i}},{key:"addHash",value:function(e){var t,n=o(this.getProbes(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this.bits[r>>>3]|=1<<(7&r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"containsHash",value:function(e){if(0===this.numEntries)return!1;var t,n=o(this.getProbes(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(0===(this.bits[r>>>3]&1<<(7&r)))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}}]),e}();function g(e,t){if(!Array.isArray(t))throw new TypeError("hashes must be an array");e.appendUint32(t.length);for(var n=0;n<t.length;n++){if(n>0&&t[n-1]>=t[n])throw new RangeError("hashes must be sorted");var r=l(t[n]);if(32!==r.byteLength)throw new TypeError("heads hashes must be 256 bits");e.appendRawBytes(r)}}function b(e){for(var t=e.readUint32(),n=[],r=0;r<t;r++)n.push(h(e.readRawBytes(32)));return n}function m(e){var t=new d;t.appendByte(66),g(t,e.heads),g(t,e.need),t.appendUint32(e.have.length);var n,r=o(e.have);try{for(r.s();!(n=r.n()).done;){var a=n.value;g(t,a.lastSync),t.appendPrefixedBytes(a.bloom)}}catch(c){r.e(c)}finally{r.f()}t.appendUint32(e.changes.length);var i,s=o(e.changes);try{for(s.s();!(i=s.n()).done;){var u=i.value;t.appendPrefixedBytes(u)}}catch(c){s.e(c)}finally{s.f()}return t.buffer}function w(e){var t=new f(e),n=t.readByte();if(66!==n)throw new RangeError("Unexpected message type: ".concat(n));for(var r=b(t),a=b(t),o=t.readUint32(),i={heads:r,need:a,have:[],changes:[]},s=0;s<o;s++){var u=b(t),c=t.readPrefixedBytes(t);i.have.push({lastSync:u,bloom:c})}for(var l=t.readUint32(),h=0;h<l;h++){var d=t.readPrefixedBytes();i.changes.push(d)}return i}function _(e,t){var n=u.getChanges(e,t).map((function(e){return p(e,!0).hash}));return{lastSync:t,bloom:new y(n).bytes}}function I(){return{sharedHeads:[],lastSentHeads:[],theirHeads:null,theirNeed:null,theirHave:null,sentHashes:{}}}function k(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}e.exports={receiveSyncMessage:function(e,t,n){if(!e)throw new Error("generateSyncMessage called with no Automerge document");if(!t)throw new Error("generateSyncMessage requires a syncState, which can be created with initSyncState()");var o=t.sharedHeads,i=t.lastSentHeads,s=t.sentHashes,c=null,l=w(n),h=u.getHeads(e);if(l.changes.length>0){var d=u.applyChanges(e,l.changes),f=r(d,2);e=f[0],c=f[1],o=function(e,t,n){var r=t.filter((function(t){return!e.includes(t)})),o=n.filter((function(e){return t.includes(e)}));return a(new Set([].concat(a(r),a(o)))).sort()}(h,u.getHeads(e),o)}0===l.changes.length&&k(l.heads,h)&&(i=l.heads);var p=l.heads.filter((function(t){return u.getChangeByHash(e,t)}));p.length===l.heads.length?(o=l.heads,0===l.heads.length&&(i=[],s=[])):o=a(new Set(p.concat(o))).sort();var v={sharedHeads:o,lastSentHeads:i,theirHave:l.have,theirHeads:l.heads,theirNeed:l.need,sentHashes:s};return[e,v,c]},generateSyncMessage:function(e,t){if(!e)throw new Error("generateSyncMessage called with no Automerge document");if(!t)throw new Error("generateSyncMessage requires a syncState, which can be created with initSyncState()");var n=t,r=n.sharedHeads,a=n.lastSentHeads,i=n.theirHeads,s=n.theirNeed,c=n.theirHave,l=n.sentHashes,h=u.getHeads(e),d=u.getMissingDeps(e,i||[]),f=[];if(i&&!d.every((function(e){return i.includes(e)}))||(f=[_(e,r)]),c&&c.length>0&&!c[0].lastSync.every((function(t){return u.getChangeByHash(e,t)})))return[t,m({heads:h,need:[],have:[{lastSync:[],bloom:new Uint8Array(0)}],changes:[]})];var g=Array.isArray(c)&&Array.isArray(s)?function(e,t,n){if(0===t.length)return n.map((function(t){return u.getChangeByHash(e,t)})).filter((function(e){return void 0!==e}));var r,a={},i=[],s=o(t);try{for(s.s();!(r=s.n()).done;){var c,l=r.value,h=o(l.lastSync);try{for(h.s();!(c=h.n()).done;)a[c.value]=!0}catch(L){h.e(L)}finally{h.f()}i.push(new y(l.bloom))}}catch(L){s.e(L)}finally{s.f()}var d,f=u.getChanges(e,Object.keys(a)).map((function(e){return p(e,!0)})),v={},g={},b={},m=o(f);try{var w=function(){var e=d.value;v[e.hash]=!0;var t,n=o(e.deps);try{for(n.s();!(t=n.n()).done;){var r=t.value;g[r]||(g[r]=[]),g[r].push(e.hash)}}catch(L){n.e(L)}finally{n.f()}i.every((function(t){return!t.containsHash(e.hash)}))&&(b[e.hash]=!0)};for(m.s();!(d=m.n()).done;)w()}catch(L){m.e(L)}finally{m.f()}for(var _=Object.keys(b);_.length>0;){var I=_.pop();if(g[I]){var k,x=o(g[I]);try{for(x.s();!(k=x.n()).done;){var E=k.value;b[E]||(b[E]=!0,_.push(E))}}catch(L){x.e(L)}finally{x.f()}}}var O,A=[],j=o(n);try{for(j.s();!(O=j.n()).done;){var R=O.value;if(b[R]=!0,!v[R]){var C=u.getChangeByHash(e,R);C&&A.push(C)}}}catch(L){j.e(L)}finally{j.f()}var S,V=o(f);try{for(V.s();!(S=V.n()).done;){var N=S.value;b[N.hash]&&A.push(N.change)}}catch(L){V.e(L)}finally{V.f()}return A}(e,c,s):[],b=Array.isArray(a)&&k(h,a),w=Array.isArray(i)&&k(h,i);if(b&&w&&0===g.length)return[t,null];g=g.filter((function(e){return!l[p(e,!0).hash]}));var I={heads:h,have:f,need:d,changes:g};if(g.length>0){l=v(l);var x,E=o(g);try{for(E.s();!(x=E.n()).done;){var O=x.value;l[p(O,!0).hash]=!0}}catch(A){E.e(A)}finally{E.f()}}return[t=Object.assign({},t,{lastSentHeads:h,sentHashes:l}),m(I)]},encodeSyncMessage:m,decodeSyncMessage:w,initSyncState:I,encodeSyncState:function(e){var t=new d;return t.appendByte(67),g(t,e.sharedHeads),t.buffer},decodeSyncState:function(e){var t=new f(e),n=t.readByte();if(67!==n)throw new RangeError("Unexpected record type: ".concat(n));var r=b(t);return Object.assign({sharedHeads:[],lastSentHeads:[],theirHeads:null,theirNeed:null,theirHave:null,sentHashes:{}},{sharedHeads:r})},BloomFilter:y}},5875:function(e){e.exports={backendState:function(e){if(e.frozen)throw new Error("Attempting to use an outdated Automerge document that has already been updated. Please use the latest document state, or call Automerge.clone() if you really need to use this old document state.");return e.state}}},1244:function(e,t,n){var r=n(319).default,a=n(9713).default,o=n(3269).default,i=n(681),s=i.isObject,u=i.copyObject,c=i.parseOpId,l=n(8607),h=l.OBJECT_ID,d=l.CONFLICTS,f=l.ELEM_IDS,p=n(7833).instantiateText,v=n(121).instantiateTable,y=n(3816).Counter;function g(e,t,n){return e.objectId?(t&&t[h]!==e.objectId&&(t=void 0),I(e,t,n)):"timestamp"===e.datatype?new Date(e.value):"counter"===e.datatype?new y(e.value):e.value}function b(e,t){var n=/^(\d+)@(.*)$/,r=n.test(e)?c(e):{counter:0,actorId:e},a=n.test(t)?c(t):{counter:0,actorId:t};return r.counter<a.counter?-1:r.counter>a.counter?1:r.actorId<a.actorId?-1:r.actorId>a.actorId?1:0}function m(e,t){var n=u(e),r=u(e?e[d]:void 0);return Object.defineProperty(n,h,{value:t}),Object.defineProperty(n,d,{value:r}),n}function w(e,t,n){var r=e.objectId;n[r]||(n[r]=m(t,r));var a=n[r];return function(e,t,n,r){if(e)for(var a=0,i=Object.keys(e);a<i.length;a++){var s,u=i[a],c={},l=Object.keys(e[u]).sort(b).reverse(),h=o(l);try{for(h.s();!(s=h.n()).done;){var d=s.value,f=e[u][d];n[u]&&n[u][d]?c[d]=g(f,n[u][d],r):c[d]=g(f,void 0,r)}}catch(p){h.e(p)}finally{h.f()}0===l.length?(delete t[u],delete n[u]):(t[u]=c[l[0]],n[u]=c)}}(e.props,a,a[d],n),a}function _(e,t,n){var r=e.objectId;n[r]||(n[r]=function(e,t){var n=e?e.slice():[],r=e&&e[d]?e[d].slice():[],a=e&&e[f]?e[f].slice():[];return Object.defineProperty(n,h,{value:t}),Object.defineProperty(n,d,{value:r}),Object.defineProperty(n,f,{value:a}),n}(t,r));for(var o=n[r],i=o[d],s=o[f],u=0;u<e.edits.length;u++){var l=e.edits[u];if("insert"===l.action||"update"===l.action){for(var p=i[l.index]&&i[l.index][l.opId],v=g(l.value,p,n),y=a({},l.opId,v);u<e.edits.length-1&&e.edits[u+1].index===l.index&&"update"===e.edits[u+1].action;){u++;var b=e.edits[u],m=i[b.index]&&i[b.index][b.opId];v=g(b.value,m,n),y[b.opId]=v}"insert"===l.action?(o.splice(l.index,0,v),i.splice(l.index,0,y),s.splice(l.index,0,l.elemId)):(o[l.index]=v,i[l.index]=y)}else"multi-insert"===l.action?function(){var e=c(l.elemId),t=[],r=[],u=[],h=l.datatype;l.values.forEach((function(o,i){var s="".concat(e.counter+i,"@").concat(e.actorId);o=g({value:o,datatype:h},void 0,n),r.push(o),u.push(a({},s,{value:o,datatype:h,type:"value"})),t.push(s)})),o.splice.apply(o,[l.index,0].concat(r)),i.splice.apply(i,[l.index,0].concat(u)),s.splice.apply(s,[l.index,0].concat(t))}():"remove"===l.action&&(o.splice(l.index,l.count),i.splice(l.index,l.count),s.splice(l.index,l.count))}return o}function I(e,t,n){if(s(t)&&(!e.props||0===Object.keys(e.props).length)&&(!e.edits||0===e.edits.length)&&!n[e.objectId])return t;if("map"===e.type)return w(e,t,n);if("table"===e.type)return function(e,t,n){var r=e.objectId;n[r]||(n[r]=t?t._clone():v(r));for(var a=n[r],o=0,i=Object.keys(e.props||{});o<i.length;o++){var s=i[o],u=Object.keys(e.props[s]);if(0===u.length)a.remove(s);else{if(1!==u.length)throw new RangeError("Conflicts are not supported on properties of a table");var c=e.props[s][u[0]];a._set(s,g(c,a.byId(s),n),u[0])}}return a}(e,t,n);if("list"===e.type)return _(e,t,n);if("text"===e.type)return function(e,t,n){var a,i=e.objectId;a=n[i]?n[i].elems:t?t.elems.slice():[];var s,u=o(e.edits);try{for(u.s();!(s=u.n()).done;){var l=s.value;if("insert"===l.action){var h=g(l.value,void 0,n),d={elemId:l.elemId,pred:[l.opId],value:h};a.splice(l.index,0,d)}else if("multi-insert"===l.action)!function(){var e,t=c(l.elemId),o=l.datatype,i=l.values.map((function(e,r){e=g({datatype:o,value:e},void 0,n);var a="".concat(t.counter+r,"@").concat(t.actorId);return{elemId:a,pred:[a],value:e}}));(e=a).splice.apply(e,[l.index,0].concat(r(i)))}();else if("update"===l.action){var f=a[l.index].elemId,v=g(l.value,a[l.index].value,n);a[l.index]={elemId:f,pred:[l.opId],value:v}}else"remove"===l.action&&a.splice(l.index,l.count)}}catch(y){u.e(y)}finally{u.f()}return n[i]=p(i,a),n[i]}(e,t,n);throw new TypeError("Unknown object type: ".concat(e.type))}e.exports={interpretPatch:I,cloneRootObject:function(e){if("_root"!==e[h])throw new RangeError("Not the root object: ".concat(e[h]));return m(e,"_root")}}},8607:function(e){var t=Symbol("_options"),n=Symbol("_cache"),r=Symbol("_state"),a=Symbol("_objectId"),o=Symbol("_conflicts"),i=Symbol("_change"),s=Symbol("_elemIds");e.exports={OPTIONS:t,CACHE:n,STATE:r,OBJECT_ID:a,CONFLICTS:o,CHANGE:i,ELEM_IDS:s}},4727:function(e,t,n){var r=n(319).default,a=n(3269).default,o=n(9713).default,i=n(4575).default,s=n(3913).default,u=n(8607),c=u.CACHE,l=u.OBJECT_ID,h=u.CONFLICTS,d=u.ELEM_IDS,f=u.STATE,p=n(1244).interpretPatch,v=n(7833).Text,y=n(121).Table,g=n(3816),b=g.Counter,m=g.getWriteableCounter,w=n(8410),_=w.Int,I=w.Uint,k=w.Float64,x=n(681),E=x.isObject,O=x.parseOpId,A=x.createArrayOfNulls,j=n(9146),R=function(){"use strict";function e(t,n,r){i(this,e),this.actorId=n,this.nextOpNum=t[f].maxOp+1,this.cache=t[c],this.updated={},this.ops=[],this.applyPatch=r||p}return s(e,[{key:"addOp",value:function(e){this.ops.push(e),"set"===e.action&&e.values?this.nextOpNum+=e.values.length:"del"===e.action&&e.multiOp?this.nextOpNum+=e.multiOp:this.nextOpNum+=1}},{key:"nextOpId",value:function(){return"".concat(this.nextOpNum,"@").concat(this.actorId)}},{key:"getValueDescription",value:function(e){if(!["object","boolean","number","string"].includes(typeof e))throw new TypeError("Unsupported type of value: ".concat(typeof e));if(E(e)){if(e instanceof Date)return{type:"value",value:e.getTime(),datatype:"timestamp"};if(e instanceof _)return{type:"value",value:e.value,datatype:"int"};if(e instanceof I)return{type:"value",value:e.value,datatype:"uint"};if(e instanceof k)return{type:"value",value:e.value,datatype:"float64"};if(e instanceof b)return{type:"value",value:e.value,datatype:"counter"};var t=e[l],n=this.getObjectType(t);if(!t)throw new RangeError("Object ".concat(JSON.stringify(e)," has no objectId"));return"list"===n||"text"===n?{objectId:t,type:n,edits:[]}:{objectId:t,type:n,props:{}}}return"number"===typeof e?Number.isInteger(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER?{type:"value",value:e,datatype:"int"}:{type:"value",value:e,datatype:"float64"}:{type:"value",value:e}}},{key:"getValuesDescriptions",value:function(e,t,n){if(t instanceof y){var r=t.byId(n);return r?o({},n,this.getValueDescription(r)):{}}if(t instanceof v){var a=t.get(n),i=t.getElemId(n);return a?o({},i,this.getValueDescription(a)):{}}var s=t[h][n],u={};if(!s)throw new RangeError("No children at key ".concat(n," of path ").concat(JSON.stringify(e)));for(var c=0,l=Object.keys(s);c<l.length;c++){var d=l[c];u[d]=this.getValueDescription(s[d])}return u}},{key:"getPropertyValue",value:function(e,t,n){return e instanceof y?e.byId(t):e instanceof v?e.get(t):e[h][t][n]}},{key:"getSubpatch",value:function(e,t){if(0==t.length)return e;var n,r=e,o=this.getObject("_root"),i=a(t);try{for(i.s();!(n=i.n()).done;){var s=n.value,u=this.getValuesDescriptions(t,o,s.key);if(r.props)r.props[s.key]||(r.props[s.key]=u);else if(r.edits)for(var c=0,l=Object.keys(u);c<l.length;c++){var h=l[c];r.edits.push({action:"update",index:s.key,opId:h,value:u[h]})}for(var d=null,f=0,p=Object.keys(u);f<p.length;f++){var v=p[f];u[v].objectId===s.objectId&&(d=v)}if(!d)throw new RangeError("Cannot find path object with objectId ".concat(s.objectId));r=u[d],o=this.getPropertyValue(o,s.key,d)}}catch(y){i.e(y)}finally{i.f()}return r}},{key:"getObject",value:function(e){var t=this.updated[e]||this.cache[e];if(!t)throw new RangeError("Target object does not exist: ".concat(e));return t}},{key:"getObjectType",value:function(e){if("_root"===e)return"map";var t=this.getObject(e);return t instanceof v?"text":t instanceof y?"table":Array.isArray(t)?"list":"map"}},{key:"getObjectField",value:function(e,t,n){if(["string","number"].includes(typeof n)){var r=this.getObject(t);if(r[n]instanceof b)return m(r[n].value,this,e,t,n);if(E(r[n])){var a=r[n][l],o=e.concat([{key:n,objectId:a}]);return this.instantiateObject(o,a)}return r[n]}}},{key:"createNestedObjects",value:function(e,t,n,i,s,u){if(n[l])throw new RangeError("Cannot create a reference to an existing document object");var c=this.nextOpId();if(n instanceof v){this.addOp(u?{action:"makeText",obj:e,elemId:u,insert:i,pred:s}:{action:"makeText",obj:e,key:t,insert:i,pred:s});var h={objectId:c,type:"text",edits:[]};return this.insertListItems(h,0,r(n),!0),h}if(n instanceof y){if(n.count>0)throw new RangeError("Assigning a non-empty Table object is not supported");return this.addOp(u?{action:"makeTable",obj:e,elemId:u,insert:i,pred:s}:{action:"makeTable",obj:e,key:t,insert:i,pred:s}),{objectId:c,type:"table",props:{}}}if(Array.isArray(n)){this.addOp(u?{action:"makeList",obj:e,elemId:u,insert:i,pred:s}:{action:"makeList",obj:e,key:t,insert:i,pred:s});var d={objectId:c,type:"list",edits:[]};return this.insertListItems(d,0,n,!0),d}this.addOp(u?{action:"makeMap",obj:e,elemId:u,insert:i,pred:s}:{action:"makeMap",obj:e,key:t,insert:i,pred:s});var f,p={},g=a(Object.keys(n).sort());try{for(g.s();!(f=g.n()).done;){var b=f.value,m=this.nextOpId(),w=this.setValue(c,b,n[b],!1,[]);p[b]=o({},m,w)}}catch(_){g.e(_)}finally{g.f()}return{objectId:c,type:"map",props:p}}},{key:"setValue",value:function(e,t,n,r,a,o){if(!e)throw new RangeError("setValue needs an objectId");if(""===t)throw new RangeError("The key of a map entry must not be an empty string");if(!E(n)||n instanceof Date||n instanceof b||n instanceof _||n instanceof I||n instanceof k){var i=this.getValueDescription(n),s={action:"set",obj:e,insert:r,value:i.value,pred:a};return o?s.elemId=o:s.key=t,i.datatype&&(s.datatype=i.datatype),this.addOp(s),i}return this.createNestedObjects(e,t,n,r,a,o)}},{key:"applyAtPath",value:function(e,t){var n={objectId:"_root",type:"map",props:{}};t(this.getSubpatch(n,e)),this.applyPatch(n,this.cache._root,this.updated)}},{key:"setMapKey",value:function(e,t,n){var r=this;if("string"!==typeof t)throw new RangeError("The key of a map entry must be a string, not ".concat(typeof t));var a=0===e.length?"_root":e[e.length-1].objectId,i=this.getObject(a);if(i[t]instanceof b)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");(i[t]!==n||Object.keys(i[h][t]||{}).length>1||void 0===n)&&this.applyAtPath(e,(function(e){var s=C(i,t),u=r.nextOpId(),c=r.setValue(a,t,n,!1,s);e.props[t]=o({},u,c)}))}},{key:"deleteMapKey",value:function(e,t){var n=0===e.length?"_root":e[e.length-1].objectId,r=this.getObject(n);if(void 0!==r[t]){var a=C(r,t);this.addOp({action:"del",obj:n,key:t,insert:!1,pred:a}),this.applyAtPath(e,(function(e){e.props[t]={}}))}}},{key:"insertListItems",value:function(e,t,n,r){var a=this,o=r?[]:this.getObject(e.objectId);if(t<0||t>o.length)throw new RangeError("List index ".concat(t," is out of bounds for list of length ").concat(o.length));if(0!==n.length){var i=S(o,t,!0),s=n.every((function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||null===e||E(e)&&(e instanceof Date||e instanceof b||e instanceof _||e instanceof I||e instanceof k)})),u=s?n.map((function(e){return a.getValueDescription(e)})):[],c=u.every((function(e){return e.datatype===u[0].datatype}));if(s&&c&&n.length>1){var l=this.nextOpId(),h=u[0].datatype,d=u.map((function(e){return e.value})),f={action:"set",obj:e.objectId,elemId:i,insert:!0,values:d,pred:[]},p={action:"multi-insert",elemId:l,index:t,values:d};h&&(f.datatype=h,p.datatype=h),this.addOp(f),e.edits.push(p)}else for(var v=0;v<n.length;v++){var y=this.nextOpId(),g=this.setValue(e.objectId,t+v,n[v],!0,[],i);i=y,e.edits.push({action:"insert",index:t+v,elemId:i,opId:i,value:g})}}}},{key:"setListIndex",value:function(e,t,n){var r=this,a=0===e.length?"_root":e[e.length-1].objectId,o=this.getObject(a);if(t>=o.length){var i=A(t-o.length);return i.push(n),this.splice(e,o.length,0,i)}if(o[t]instanceof b)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");(o[t]!==n||Object.keys(o[h][t]||{}).length>1||void 0===n)&&this.applyAtPath(e,(function(e){var i=C(o,t),s=r.nextOpId(),u=r.setValue(a,t,n,!1,i,S(o,t));e.edits.push({action:"update",index:t,opId:s,value:u})}))}},{key:"splice",value:function(e,t,n,r){var a=0===e.length?"_root":e[e.length-1].objectId,o=this.getObject(a);if(t<0||n<0||t>o.length-n)throw new RangeError("".concat(n," deletions starting at index ").concat(t," are out of bounds for list of length ").concat(o.length));if(0!==n||0!==r.length){var i={objectId:"_root",type:"map",props:{}},s=this.getSubpatch(i,e);if(n>0){for(var u,c,l,h=0;h<n;h++){if(this.getObjectField(e,a,t+h)instanceof b)throw new TypeError("Unsupported operation: deleting a counter from a list");var d=S(o,t+h),f=O(d),p=C(o,t+h),v=1===p.length?O(p[0]):void 0;u&&c&&l&&v&&c.actorId===f.actorId&&c.counter+1===f.counter&&l.actorId===v.actorId&&l.counter+1===v.counter?u.multiOp=(u.multiOp||1)+1:(u&&this.addOp(u),u={action:"del",obj:a,elemId:d,insert:!1,pred:p}),c=f,l=v}this.addOp(u),s.edits.push({action:"remove",index:t,count:n})}r.length>0&&this.insertListItems(s,t,r,!1),this.applyPatch(i,this.cache._root,this.updated)}}},{key:"addTableRow",value:function(e,t){if(!E(t)||Array.isArray(t))throw new TypeError("A table row must be an object");if(t[l])throw new TypeError("Cannot reuse an existing object as table row");if(t.id)throw new TypeError('A table row must not have an "id" property; it is generated automatically');var n=j(),r=this.setValue(e[e.length-1].objectId,n,t,!1,[]);return this.applyAtPath(e,(function(e){e.props[n]=o({},r.objectId,r)})),n}},{key:"deleteTableRow",value:function(e,t,n){var r=e[e.length-1].objectId;this.getObject(r).byId(t)&&(this.addOp({action:"del",obj:r,key:t,insert:!1,pred:[n]}),this.applyAtPath(e,(function(e){e.props[t]={}})))}},{key:"increment",value:function(e,t,n){var r=0===e.length?"_root":e[e.length-1].objectId,a=this.getObject(r);if(!(a[t]instanceof b))throw new TypeError("Only counter values can be incremented");var i=this.getObjectType(r),s=a[t].value+n,u=this.nextOpId(),c=C(a,t);if("list"===i||"text"===i){var l=S(a,t,!1);this.addOp({action:"inc",obj:r,elemId:l,value:n,insert:!1,pred:c})}else this.addOp({action:"inc",obj:r,key:t,value:n,insert:!1,pred:c});this.applyAtPath(e,(function(e){"list"===i||"text"===i?e.edits.push({action:"update",index:t,opId:u,value:{value:s,datatype:"counter"}}):e.props[t]=o({},u,{value:s,datatype:"counter"})}))}}]),e}();function C(e,t){return e instanceof y?[e.opIds[t]]:e instanceof v?e.elems[t].pred:e[h]&&e[h][t]?Object.keys(e[h][t]):[]}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){if(0===t)return"_head";t-=1}if(e[d])return e[d][t];if(e.getElemId)return e.getElemId(t);throw new RangeError("Cannot find elemId at list index ".concat(t))}e.exports={Context:R}},3816:function(e,t,n){var r=n(2205).default,a=n(9842).default,o=n(4575).default,i=n(3913).default,s=function(){"use strict";function e(t){o(this,e),this.value=t||0,Object.freeze(this)}return i(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.valueOf().toString()}},{key:"toJSON",value:function(){return this.value}}]),e}(),u=function(e){"use strict";r(n,e);var t=a(n);function n(){return o(this,n),t.apply(this,arguments)}return i(n,[{key:"increment",value:function(e){return e="number"===typeof e?e:1,this.context.increment(this.path,this.key,e),this.value+=e,this.value}},{key:"decrement",value:function(e){return this.increment("number"===typeof e?-e:-1)}}]),n}(s);e.exports={Counter:s,getWriteableCounter:function(e,t,n,r,a){var o=Object.create(u.prototype);return o.value=e,o.context=t,o.path=n,o.objectId=r,o.key=a,o}}},73:function(e,t,n){var r=n(3269).default,a=n(3038).default,o=n(8607),i=o.OPTIONS,s=o.CACHE,u=o.STATE,c=o.OBJECT_ID,l=o.CONFLICTS,h=o.CHANGE,d=o.ELEM_IDS,f=n(681),p=f.isObject,v=f.copyObject,y=n(9146),g=n(1244),b=g.interpretPatch,m=g.cloneRootObject,w=n(3957).rootObjectProxy,_=n(4727).Context,I=n(7833).Text,k=n(121).Table,x=n(3816).Counter,E=n(8410),O=E.Float64,A=E.Int,j=E.Uint,R=n(1669).Observable;function C(e){if("string"!==typeof e)throw new TypeError("Unsupported type of actorId: ".concat(typeof e));if(!/^[0-9a-f]+$/.test(e))throw new RangeError("actorId must consist only of lowercase hex digits");if(e.length%2!==0)throw new RangeError("actorId must consist of an even number of digits")}function S(e,t,n){var r=t._root;if(r||(r=m(e[s]._root),t._root=r),Object.defineProperty(r,i,{value:e[i]}),Object.defineProperty(r,s,{value:t}),Object.defineProperty(r,u,{value:n}),e[i].freeze)for(var a=0,o=Object.keys(t);a<o.length;a++){var c=o[a];t[c]instanceof k?t[c]._freeze():t[c]instanceof I?(Object.freeze(t[c].elems),Object.freeze(t[c])):(Object.freeze(t[c]),Object.freeze(t[c][l]))}for(var h=0,d=Object.keys(e[s]);h<d.length;h++){var f=d[h];t[f]||(t[f]=e[s][f])}return e[i].freeze&&Object.freeze(t),r}function V(e,t,n){var o=B(e);if(!o)throw new Error("Actor ID must be initialized with setActorId() before making a change");var s=v(e[u]);s.seq+=1;var c={actor:o,seq:s.seq,startOp:s.maxOp+1,deps:s.deps,time:n&&"number"===typeof n.time?n.time:Math.round((new Date).getTime()/1e3),message:n&&"string"===typeof n.message?n.message:"",ops:t.ops};if(e[i].backend){var l=e[i].backend.applyLocalChange(s.backendState,c),h=a(l,3),d=h[0],f=h[1],p=h[2];s.backendState=d,s.lastLocalChange=p;var y=N(e,f,s,!0),g=n&&n.patchCallback||e[i].patchCallback;return g&&g(f,e,y,!0,[p]),[y,c]}var b={actor:o,seq:c.seq,before:e};return s.requests=s.requests.concat([b]),s.maxOp=s.maxOp+function(e){var t,n=0,a=r(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;"set"===o.action&&o.values?n+=o.values.length:n+=1}}catch(i){a.e(i)}finally{a.f()}return n}(c.ops),s.deps=[],[S(e,t?t.updated:{},s),c]}function N(e,t,n,r){var a=B(e),o={};if(b(t.diffs,e,o),r){if(!t.clock)throw new RangeError("patch is missing clock field");t.clock[a]&&t.clock[a]>n.seq&&(n.seq=t.clock[a]),n.clock=t.clock,n.deps=t.deps,n.maxOp=Math.max(n.maxOp,t.maxOp)}return S(e,o,n)}function L(e){if("string"===typeof e)e={actorId:e};else if("undefined"===typeof e)e={};else if(!p(e))throw new TypeError("Unsupported value for init() options: ".concat(e));if(e.deferActorId||(void 0===e.actorId&&(e.actorId=y()),C(e.actorId)),e.observable){var t=e.patchCallback,n=e.observable;e.patchCallback=function(e,r,a,o,i){t&&t(e,r,a,o,i),n.patchCallback(e,r,a,o,i)}}var r={},a={_root:r},o={seq:0,maxOp:0,requests:[],clock:{},deps:[]};return e.backend&&(o.backendState=e.backend.init(),o.lastLocalChange=null),Object.defineProperty(r,c,{value:"_root"}),Object.defineProperty(r,i,{value:Object.freeze(e)}),Object.defineProperty(r,l,{value:Object.freeze({})}),Object.defineProperty(r,s,{value:Object.freeze(a)}),Object.defineProperty(r,u,{value:Object.freeze(o)}),Object.freeze(r)}function T(e,t,n){if("_root"!==e[c])throw new TypeError("The first argument to Automerge.change must be the document root");if(e[h])throw new TypeError("Calls to Automerge.change cannot be nested");if("function"===typeof t&&void 0===n){var r=[n,t];t=r[0],n=r[1]}if("string"===typeof t&&(t={message:t}),void 0!==t&&!p(t))throw new TypeError("Unsupported type of options");var a=B(e);if(!a)throw new Error("Actor ID must be initialized with setActorId() before making a change");var o=new _(e,a);return n(w(o)),0===Object.keys(o.updated).length?[e,null]:V(e,o,t)}function B(e){return e[u].actorId||e[i].actorId}e.exports={init:L,from:function(e,t){return T(L(t),"Initialization",(function(t){return Object.assign(t,e)}))},change:T,emptyChange:function(e,t){if("_root"!==e[c])throw new TypeError("The first argument to Automerge.emptyChange must be the document root");if("string"===typeof t&&(t={message:t}),void 0!==t&&!p(t))throw new TypeError("Unsupported type of options");var n=B(e);if(!n)throw new Error("Actor ID must be initialized with setActorId() before making a change");return V(e,new _(e,n),t)},applyPatch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("_root"!==e[c])throw new TypeError("The first argument to Frontend.applyPatch must be the document root");var r,a=v(e[u]);if(e[i].backend){if(!n)throw new RangeError("applyPatch must be called with the updated backend state");return a.backendState=n,N(e,t,a,!0)}if(a.requests.length>0)if(r=a.requests[0].before,t.actor===B(e)){if(a.requests[0].seq!==t.seq)throw new RangeError("Mismatched sequence number: patch ".concat(t.seq," does not match next request ").concat(a.requests[0].seq));a.requests=a.requests.slice(1)}else a.requests=a.requests.slice();else r=e,a.requests=[];var o=N(r,t,a,!0);return 0===a.requests.length?o:(a.requests[0]=v(a.requests[0]),a.requests[0].before=o,S(e,{},a))},getObjectId:function(e){return e[c]},getObjectById:function(e,t){if(e[h])throw new TypeError("Cannot use getObjectById in a change callback");return e[s][t]},getActorId:B,setActorId:function(e,t){return C(t),S(e,{},Object.assign({},e[u],{actorId:t}))},getConflicts:function(e,t){if(e[l]&&e[l][t]&&Object.keys(e[l][t]).length>1)return e[l][t]},getLastLocalChange:function(e){return e[u]&&e[u].lastLocalChange?e[u].lastLocalChange:null},getBackendState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"first";if("_root"!==e[c]){var r=Array.isArray(e)?". Note: Automerge.applyChanges now returns an array.":"";throw t?new TypeError("The ".concat(n," argument to Automerge.").concat(t," must be the document root").concat(r)):new TypeError("Argument is not an Automerge document root".concat(r))}return e[u].backendState},getElementIds:function(e){return e instanceof I?e.elems.map((function(e){return e.elemId})):e[d]},Text:I,Table:k,Counter:x,Observable:R,Float64:O,Int:A,Uint:j}},8410:function(e,t,n){var r=n(3913).default,a=n(4575).default,o=r((function e(t){"use strict";if(a(this,e),!(Number.isInteger(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER))throw new RangeError("Value ".concat(t," cannot be a uint"));this.value=t,Object.freeze(this)})),i=r((function e(t){"use strict";if(a(this,e),!(Number.isInteger(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=0))throw new RangeError("Value ".concat(t," cannot be a uint"));this.value=t,Object.freeze(this)})),s=r((function e(t){"use strict";if(a(this,e),"number"!==typeof t)throw new RangeError("Value ".concat(t," cannot be a float64"));this.value=t||0,Object.freeze(this)}));e.exports={Int:o,Uint:i,Float64:s}},1669:function(e,t,n){var r=n(3269).default,a=n(4575).default,o=n(3913).default,i=n(8607),s=i.OBJECT_ID,u=i.CONFLICTS,c=function(){"use strict";function e(){a(this,e),this.observers={}}return o(e,[{key:"patchCallback",value:function(e,t,n,r,a){this._objectUpdate(e.diffs,t,n,r,a)}},{key:"_objectUpdate",value:function(e,t,n,a,o){if(e.objectId){if(this.observers[e.objectId]){var i,s=r(this.observers[e.objectId]);try{for(s.s();!(i=s.n()).done;){(0,i.value)(e,t,n,a,o)}}catch(R){s.e(R)}finally{s.f()}}if("map"===e.type&&e.props)for(var c=0,l=Object.keys(e.props);c<l.length;c++)for(var h=l[c],d=0,f=Object.keys(e.props[h]);d<f.length;d++){var p=f[d];this._objectUpdate(e.props[h][p],t&&t[u]&&t[u][h]&&t[u][h][p],n&&n[u]&&n[u][h]&&n[u][h][p],a,o)}else if("table"===e.type&&e.props)for(var v=0,y=Object.keys(e.props);v<y.length;v++)for(var g=y[v],b=0,m=Object.keys(e.props[g]);b<m.length;b++){var w=m[b];this._objectUpdate(e.props[g][w],t&&t.byId(g),n&&n.byId(g),a,o)}else if("list"===e.type&&e.edits){var _,I=0,k=r(e.edits);try{for(k.s();!(_=k.n()).done;){var x=_.value;"insert"===x.action?(I-=1,this._objectUpdate(x.value,void 0,n&&n[u]&&n[u][x.index]&&n[u][x.index][x.elemId],a,o)):"multi-insert"===x.action?I-=x.values.length:"update"===x.action?this._objectUpdate(x.value,t&&t[u]&&t[u][x.index+I]&&t[u][x.index+I][x.opId],n&&n[u]&&n[u][x.index]&&n[u][x.index][x.opId],a,o):"remove"===x.action&&(I+=x.count)}}catch(R){k.e(R)}finally{k.f()}}else if("text"===e.type&&e.edits){var E,O=0,A=r(e.edits);try{for(A.s();!(E=A.n()).done;){var j=E.value;"insert"===j.action?(O-=1,this._objectUpdate(j.value,void 0,n&&n.get(j.index),a,o)):"multi-insert"===j.action?O-=j.values.length:"update"===j.action?this._objectUpdate(j.value,t&&t.get(j.index+O),n&&n.get(j.index),a,o):"remove"===j.action&&(O+=j.count)}}catch(R){A.e(R)}finally{A.f()}}}}},{key:"observe",value:function(e,t){var n=e[s];if(!n)throw new TypeError("The observed object must be part of an Automerge document");this.observers[n]||(this.observers[n]=[]),this.observers[n].push(t)}}]),e}();e.exports={Observable:c}},3957:function(e,t,n){var r=n(3038).default,a=n(8607),o=a.OBJECT_ID,i=a.CHANGE,s=a.STATE,u=n(681).createArrayOfNulls,c=n(7833).Text,l=n(121).Table;function h(e){if("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e,10)),"number"!==typeof e)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(e));if(e<0||isNaN(e)||e===1/0||e===-1/0)throw new RangeError("A list index must be positive, but you passed "+e);return e}var d={get:function(e,t){var n=e.context,r=e.objectId,a=e.path;return t===o?r:t===i?n:t===s?{actorId:n.actorId}:n.getObjectField(a,r,t)},set:function(e,t,n){var r=e.context,a=e.path,o=e.readonly;if(Array.isArray(o)&&o.indexOf(t)>=0)throw new RangeError('Object property "'.concat(t,'" cannot be modified'));return r.setMapKey(a,t,n),!0},deleteProperty:function(e,t){var n=e.context,r=e.path,a=e.readonly;if(Array.isArray(a)&&a.indexOf(t)>=0)throw new RangeError('Object property "'.concat(t,'" cannot be modified'));return n.deleteMapKey(r,t),!0},has:function(e,t){var n=e.context,r=e.objectId;return[o,i].includes(t)||t in n.getObject(r)},getOwnPropertyDescriptor:function(e,t){var n=e.context,r=e.objectId;if(t in n.getObject(r))return{configurable:!0,enumerable:!0,value:n.getObjectField(r,t)}},ownKeys:function(e){var t=e.context,n=e.objectId;return Object.keys(t.getObject(n))}},f={get:function(e,t){var n=r(e,3),a=n[0],s=n[1],u=n[2];return t===Symbol.iterator?a.getObject(s)[Symbol.iterator]:t===o?s:t===i?a:"length"===t?a.getObject(s).length:"string"===typeof t&&/^[0-9]+$/.test(t)?a.getObjectField(u,s,h(t)):function(e,t,n){for(var r={deleteAt:function(t,r){return e.splice(n,h(t),r||1,[]),this},fill:function(r,a,o){for(var i=e.getObject(t),s=h(a||0);s<h(o||i.length);s++)e.setListIndex(n,s,r);return this},indexOf:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=n[o];if(a){for(var i=e.getObject(t),s=r;s<i.length;s++)if(i[s][o]===a)return s;return-1}return e.getObject(t).indexOf(n,r)},insertAt:function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e.splice(n,h(t),0,a),this},pop:function(){var r=e.getObject(t);if(0!=r.length){var a=e.getObjectField(n,t,r.length-1);return e.splice(n,r.length-1,1,[]),a}},push:function(){for(var r=e.getObject(t),a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e.splice(n,r.length,0,o),e.getObject(t).length},shift:function(){if(0!=e.getObject(t).length){var r=e.getObjectField(n,t,0);return e.splice(n,0,1,[]),r}},splice:function(r,a){var o=e.getObject(t);r=h(r),(void 0===a||a>o.length-r)&&(a=o.length-r);for(var i=[],s=0;s<a;s++)i.push(e.getObjectField(n,t,r+s));for(var u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];return e.splice(n,r,a,c),i},unshift:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e.splice(n,0,0,a),e.getObject(t).length}},a=function(){var n=s[i],a=e.getObject(t);r[n]=function(){return a[n]()}},i=0,s=["entries","keys","values"];i<s.length;i++)a();for(var u=function(){var a=l[c];r[a]=function(){var r=e.getObject(t).map((function(r,a){return e.getObjectField(n,t,a)}));return r[a].apply(r,arguments)}},c=0,l=["concat","every","filter","find","findIndex","forEach","includes","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"];c<l.length;c++)u();return r}(a,s,u)[t]},set:function(e,t,n){var a=r(e,3),o=a[0],i=a[1],s=a[2];if("length"===t){if("number"!==typeof n)throw new RangeError("Invalid array length");var c=o.getObject(i).length;c>n?o.splice(s,n,c-n,[]):o.splice(s,c,0,u(n-c))}else o.setListIndex(s,h(t),n);return!0},deleteProperty:function(e,t){var n=r(e,3),a=n[0],o=n[2];return a.splice(o,h(t),1,[]),!0},has:function(e,t){var n=r(e,2),a=n[0],s=n[1];return"string"===typeof t&&/^[0-9]+$/.test(t)?h(t)<a.getObject(s).length:["length",o,i].includes(t)},getOwnPropertyDescriptor:function(e,t){var n=r(e,2),a=n[0],i=n[1],s=a.getObject(i);if("length"===t)return{writable:!0,value:s.length};if(t===o)return{configurable:!1,enumerable:!1,value:i};if("string"===typeof t&&/^[0-9]+$/.test(t)){var u=h(t);if(u<s.length)return{configurable:!0,enumerable:!0,value:a.getObjectField(i,u)}}},ownKeys:function(e){for(var t=r(e,2),n=t[0],a=t[1],o=n.getObject(a),i=["length"],s=0,u=Object.keys(o);s<u.length;s++){var c=u[s];i.push(c)}return i}};function p(e,t,n,r){return new Proxy({context:e,objectId:t,path:n,readonly:r},d)}function v(e,t,n){var r=this.getObject(t);return Array.isArray(r)?function(e,t,n){return new Proxy([e,t,n],f)}(this,t,e):r instanceof c||r instanceof l?r.getWriteable(this,e):p(this,t,e,n)}e.exports={rootObjectProxy:function(e){return e.instantiateObject=v,p(e,"_root",[])}}},121:function(e,t,n){var r=n(2205).default,a=n(9842).default,o=n(4575).default,i=n(3913).default,s=n(3269).default,u=n(8607),c=u.OBJECT_ID,l=u.CONFLICTS,h=n(681),d=h.isObject,f=h.copyObject;function p(e,t,n){var r,a=s(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(t[o]!==n[o]){if("number"===typeof t[o]&&"number"===typeof n[o])return t[o]-n[o];var i=""+t[o],u=""+n[o];if(i!==u)return i<u?-1:1}}}catch(c){a.e(c)}finally{a.f()}return 0}var v=function(e){"use strict";function t(){o(this,t),this.entries=Object.freeze({}),this.opIds=Object.freeze({}),Object.freeze(this)}return i(t,[{key:"byId",value:function(e){return this.entries[e]}},{key:"ids",get:function(){var e=this;return Object.keys(this.entries).filter((function(t){var n=e.entries[t];return d(n)&&n.id===t}))}},{key:"count",get:function(){return this.ids.length}},{key:"rows",get:function(){var e=this;return this.ids.map((function(t){return e.byId(t)}))}},{key:"filter",value:function(e,t){return this.rows.filter(e,t)}},{key:"find",value:function(e,t){return this.rows.find(e,t)}},{key:"map",value:function(e,t){return this.rows.map(e,t)}},{key:"sort",value:function(e){if("function"===typeof e)return this.rows.sort(e);if("string"===typeof e)return this.rows.sort((function(t,n){return p([e],t,n)}));if(Array.isArray(e))return this.rows.sort((function(t,n){return p(e,t,n)}));if(void 0===e)return this.rows.sort((function(e,t){return p(["id"],e,t)}));throw new TypeError("Unsupported sorting argument: ".concat(e))}},{key:e,value:function(){var e=this.rows,t=-1;return{next:function(){return(t+=1)<e.length?{done:!1,value:e[t]}:{done:!0}}}}},{key:"_clone",value:function(){if(!this[c])throw new RangeError("clone() requires the objectId to be set");return g(this[c],f(this.entries),f(this.opIds))}},{key:"_set",value:function(e,t,n){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");d(t)&&!Array.isArray(t)&&Object.defineProperty(t,"id",{value:e,enumerable:!0}),this.entries[e]=t,this.opIds[e]=n}},{key:"remove",value:function(e){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");delete this.entries[e],delete this.opIds[e]}},{key:"_freeze",value:function(){Object.freeze(this.entries),Object.freeze(this.opIds),Object.freeze(this)}},{key:"getWriteable",value:function(e,t){if(!this[c])throw new RangeError("getWriteable() requires the objectId to be set");var n=Object.create(y.prototype);return n[c]=this[c],n.context=e,n.entries=this.entries,n.opIds=this.opIds,n.path=t,n}},{key:"toJSON",value:function(){var e,t={},n=s(this.ids);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=this.byId(r)}}catch(a){n.e(a)}finally{n.f()}return t}}]),t}(Symbol.iterator),y=function(e){"use strict";r(n,e);var t=a(n);function n(){return o(this,n),t.apply(this,arguments)}return i(n,[{key:"byId",value:function(e){if(d(this.entries[e])&&this.entries[e].id===e){var t=this.entries[e][c],n=this.path.concat([{key:e,objectId:t}]);return this.context.instantiateObject(n,t,["id"])}}},{key:"add",value:function(e){return this.context.addTableRow(this.path,e)}},{key:"remove",value:function(e){if(!d(this.entries[e])||this.entries[e].id!==e)throw new RangeError("There is no row with ID ".concat(e," in this table"));this.context.deleteTableRow(this.path,e,this.opIds[e])}}]),n}(v);function g(e,t,n){var r=Object.create(v.prototype);if(!e)throw new RangeError("instantiateTable requires an objectId to be given");return r[c]=e,r[l]=Object.freeze({}),r.entries=t||{},r.opIds=n||{},r}e.exports={Table:v,instantiateTable:g}},7833:function(e,t,n){for(var r=n(3269).default,a=n(319).default,o=n(4575).default,i=n(3913).default,s=n(8607).OBJECT_ID,u=n(681).isObject,c=function(e){"use strict";function t(e){if(o(this,t),"string"===typeof e)return f(void 0,a(e).map((function(e){return{value:e}})));if(Array.isArray(e))return f(void 0,e.map((function(e){return{value:e}})));if(void 0===e)return f(void 0,[]);throw new TypeError("Unsupported initial value for Text: ".concat(e))}return i(t,[{key:"length",get:function(){return this.elems.length}},{key:"get",value:function(e){var t=this.elems[e].value;if(this.context&&u(t)){var n=t[s],r=this.path.concat([{key:e,objectId:n}]);return this.context.instantiateObject(r,n)}return t}},{key:"getElemId",value:function(e){return this.elems[e].elemId}},{key:e,value:function(){var e=this.elems,t=-1;return{next:function(){return(t+=1)<e.length?{done:!1,value:e[t].value}:{done:!0}}}}},{key:"toString",value:function(){var e,t="",n=r(this.elems);try{for(n.s();!(e=n.n()).done;){var a=e.value;"string"===typeof a.value&&(t+=a.value)}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"toSpans",value:function(){var e,t=[],n="",a=r(this.elems);try{for(a.s();!(e=a.n()).done;){var o=e.value;"string"===typeof o.value?n+=o.value:(n.length>0&&(t.push(n),n=""),t.push(o.value))}}catch(i){a.e(i)}finally{a.f()}return n.length>0&&t.push(n),t}},{key:"toJSON",value:function(){return this.toString()}},{key:"getWriteable",value:function(e,t){if(!this[s])throw new RangeError("getWriteable() requires the objectId to be set");var n=f(this[s],this.elems);return n.context=e,n.path=t,n}},{key:"set",value:function(e,t){if(this.context)this.context.setListIndex(this.path,e,t);else{if(this[s])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems[e].value=t}return this}},{key:"insertAt",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.context)this.context.splice(this.path,e,0,n);else{if(this[s])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");var o;(o=this.elems).splice.apply(o,[e,0].concat(a(n.map((function(e){return{value:e}})))))}return this}},{key:"deleteAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.context)this.context.splice(this.path,e,t,[]);else{if(this[s])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems.splice(e,t)}return this}}]),t}(Symbol.iterator),l=function(){var e=d[h];c.prototype[e]=function(){var t=a(this);return t[e].apply(t,arguments)}},h=0,d=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString"];h<d.length;h++)l();function f(e,t){var n=Object.create(c.prototype);return n[s]=e,n.elems=t,n}e.exports={Text:c,instantiateText:f}},5385:function(e,t,n){var r=n(3038).default,a=n(9146),o=n(73),i=n(8607).OPTIONS,s=n(412),u=s.encodeChange,c=s.decodeChange,l=n(681).isObject,h=n(6948);function d(e){if("string"===typeof e)e={actorId:e};else if("undefined"===typeof e)e={};else if(!l(e))throw new TypeError("Unsupported options for init(): ".concat(e));return o.init(Object.assign({backend:h},e))}function f(e,t,n){var a=o.change(e,t,n);return r(a,1)[0]}function p(e){return h.getAllChanges(o.getBackendState(e,"getAllChanges"))}function v(e,t,n,r,a){var s=o.applyPatch(e,t,n),u=a.patchCallback||e[i].patchCallback;return u&&u(t,e,s,!1,r),s}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.getBackendState(e,"applyChanges"),i=h.applyChanges(a,t),s=r(i,2),u=s[0],c=s[1];return[v(e,c,u,t,n),c]}e.exports={init:d,from:function(e,t){return f(d(t),{message:"Initialization"},(function(t){return Object.assign(t,e)}))},change:f,emptyChange:function(e,t){var n=o.emptyChange(e,t);return r(n,1)[0]},clone:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h.clone(o.getBackendState(e,"clone"));return v(d(t),h.getPatch(n),n,[],t)},free:function(e){h.free(o.getBackendState(e,"free"))},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h.load(e);return v(d(t),h.getPatch(n),n,[e],t)},save:function(e){return h.save(o.getBackendState(e,"save"))},merge:function(e,t){var n=o.getBackendState(e,"merge"),a=o.getBackendState(t,"merge","second");if(o.getActorId(e)===o.getActorId(t))throw new RangeError("Cannot merge an actor with itself");var i=y(e,h.getChangesAdded(n,a));return r(i,1)[0]},getChanges:function(e,t){var n=o.getBackendState(e,"getChanges"),r=o.getBackendState(t,"getChanges","second");return h.getChanges(r,h.getHeads(n))},getAllChanges:p,applyChanges:y,encodeChange:u,decodeChange:c,equals:function e(t,n){if(!l(t)||!l(n))return t===n;var r=Object.keys(t).sort(),a=Object.keys(n).sort();if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++){if(r[o]!==a[o])return!1;if(!e(t[r[o]],n[a[o]]))return!1}return!0},getHistory:function(e){var t=o.getActorId(e),n=p(e);return n.map((function(e,r){return{get change(){return c(e)},get snapshot(){var e=h.loadChanges(h.init(),n.slice(0,r+1));return o.applyPatch(d(t),h.getPatch(e),e)}}}))},uuid:a,Frontend:o,setDefaultBackend:function(e){h=e},generateSyncMessage:function(e,t){var n=o.getBackendState(e,"generateSyncMessage");return h.generateSyncMessage(n,t)},receiveSyncMessage:function(e,t,n){var a=o.getBackendState(e,"receiveSyncMessage"),s=h.receiveSyncMessage(a,t,n),u=r(s,3),c=u[0],l=u[1],d=u[2];if(!d)return[e,l,d];var f=null;return e[i].patchCallback&&(f=h.decodeSyncMessage(n).changes),[v(e,d,c,f,{}),l,d]},initSyncState:function(){return h.initSyncState()},get Backend(){return h}};for(var g=0,b=["getObjectId","getObjectById","getActorId","setActorId","getConflicts","getLastLocalChange","Text","Table","Counter","Observable","Int","Uint","Float64"];g<b.length;g++){var m=b[g];e.exports[m]=o[m]}},681:function(e){function t(e){return"object"===typeof e&&null!==e}e.exports={isObject:t,copyObject:function(e){if(!t(e))return{};for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];n[o]=e[o]}return n},parseOpId:function(e){var t=/^(\d+)@(.*)$/.exec(e||"");if(!t)throw new RangeError("Not a valid opId: ".concat(e));return{counter:parseInt(t[1],10),actorId:t[2]}},equalBytes:function(e,t){if(!(e instanceof Uint8Array)||!(t instanceof Uint8Array))throw new TypeError("equalBytes can only compare Uint8Arrays");if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},createArrayOfNulls:function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=null;return t}}},9146:function(e,t,n){var r=n(4610).v4;function a(){return r().replace(/-/g,"")}var o=a;function i(){return o()}i.setFactory=function(e){o=e},i.reset=function(){o=a},e.exports=i},100:function(e,t,n){var r;!function(t,a){var o={};!function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(e,n,r,a,o){for(var i,s,u,c,l,h,d,f,p,v,y,g,b;o>=64;){for(i=n[0],s=n[1],u=n[2],c=n[3],l=n[4],h=n[5],d=n[6],f=n[7],v=0;v<16;v++)y=a+4*v,e[v]=(255&r[y])<<24|(255&r[y+1])<<16|(255&r[y+2])<<8|255&r[y+3];for(v=16;v<64;v++)g=((p=e[v-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,b=((p=e[v-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,e[v]=(g+e[v-7]|0)+(b+e[v-16]|0);for(v=0;v<64;v++)g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&d)|0)+(f+(t[v]+e[v]|0)|0)|0,b=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&u^s&u)|0,f=d,d=h,h=l,l=c+g|0,c=u,u=s,s=i,i=g+b|0;n[0]+=i,n[1]+=s,n[2]+=u,n[3]+=c,n[4]+=l,n[5]+=h,n[6]+=d,n[7]+=f,a+=64,o-=64}return a}var r=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=n(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,r=this.bufferLength,a=t/536870912|0,o=t<<3,i=t%64<56?64:128;this.buffer[r]=128;for(var s=r+1;s<i-8;s++)this.buffer[s]=0;this.buffer[i-8]=a>>>24&255,this.buffer[i-7]=a>>>16&255,this.buffer[i-6]=a>>>8&255,this.buffer[i-5]=a>>>0&255,this.buffer[i-4]=o>>>24&255,this.buffer[i-3]=o>>>16&255,this.buffer[i-2]=o>>>8&255,this.buffer[i-1]=o>>>0&255,n(this.temp,this.state,this.buffer,0,i),this.finished=!0}for(s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=r;var a=function(){function e(e){this.inner=new r,this.outer=new r,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new r).update(e).finish(t).clean();else for(var n=0;n<e.length;n++)t[n]=e[n];for(n=0;n<t.length;n++)t[n]^=54;this.inner.update(t);for(n=0;n<t.length;n++)t[n]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(n=0;n<t.length;n++)t[n]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function o(e){var t=(new r).update(e),n=t.digest();return t.clean(),n}function i(e,t){var n=new a(e).update(t),r=n.digest();return n.clean(),r}function s(e,t,n,r){var a=r[0];if(0===a)throw new Error("hkdf: cannot expand more");t.reset(),a>1&&t.update(e),n&&t.update(n),t.update(r),t.finish(e),r[0]++}e.HMAC=a,e.hash=o,e.default=o,e.hmac=i;var u=new Uint8Array(e.digestLength);function c(e,t,n,r){void 0===t&&(t=u),void 0===r&&(r=32);for(var o=new Uint8Array([1]),c=i(t,e),l=new a(c),h=new Uint8Array(l.digestLength),d=h.length,f=new Uint8Array(r),p=0;p<r;p++)d===h.length&&(s(h,l,n,o),d=0),f[p]=h[d++];return l.clean(),h.fill(0),o.fill(0),f}function l(e,t,n,r){for(var o=new a(e),i=o.digestLength,s=new Uint8Array(4),u=new Uint8Array(i),c=new Uint8Array(i),l=new Uint8Array(r),h=0;h*i<r;h++){var d=h+1;s[0]=d>>>24&255,s[1]=d>>>16&255,s[2]=d>>>8&255,s[3]=d>>>0&255,o.reset(),o.update(t),o.update(s),o.finish(c);for(var f=0;f<i;f++)u[f]=c[f];for(f=2;f<=n;f++){o.reset(),o.update(c).finish(c);for(var p=0;p<i;p++)u[p]^=c[p]}for(f=0;f<i&&h*i+f<r;f++)l[h*i+f]=u[f]}for(h=0;h<i;h++)u[h]=c[h]=0;for(h=0;h<4;h++)s[h]=0;return o.clean(),l}e.hkdf=c,e.pbkdf2=l}(o);var i=o.default;for(var s in o)i[s]=o[s];"object"===typeof e.exports?e.exports=i:void 0===(r=function(){return i}.call(o,n,o,e))||(e.exports=r)}()},9043:function(e,t,n){"use strict";var r=n(6106),a=r.Deflate,o=r.deflate,i=r.deflateRaw,s=r.gzip,u=n(3371),c=u.Inflate,l=u.inflate,h=u.inflateRaw,d=u.ungzip,f=n(7500);e.exports.Deflate=a,e.exports.deflate=o,e.exports.deflateRaw=i,e.exports.gzip=s,e.exports.Inflate=c,e.exports.inflate=l,e.exports.inflateRaw=h,e.exports.ungzip=d,e.exports.constants=f},6106:function(e,t,n){"use strict";var r=n(2849),a=n(8661),o=n(4590),i=n(3470),s=n(5806),u=Object.prototype.toString,c=n(7500),l=c.Z_NO_FLUSH,h=c.Z_SYNC_FLUSH,d=c.Z_FULL_FLUSH,f=c.Z_FINISH,p=c.Z_OK,v=c.Z_STREAM_END,y=c.Z_DEFAULT_COMPRESSION,g=c.Z_DEFAULT_STRATEGY,b=c.Z_DEFLATED;function m(e){this.options=a.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==p)throw new Error(i[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,c))!==p)throw new Error(i[n]);this._dict_set=!0}}function w(e,t){var n=new m(t);if(n.push(e,!0),n.err)throw n.msg||i[n.err];return n.result}m.prototype.push=function(e,t){var n,a,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(a=t===~~t?t:!0===t?f:l,"string"===typeof e?i.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(a===h||a===d)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=r.deflate(i,a))===v)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p;if(0!==i.avail_out){if(a>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===p&&(this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Deflate=m,e.exports.deflate=w,e.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,w(e,t)},e.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,w(e,t)},e.exports.constants=n(7500)},3371:function(e,t,n){"use strict";var r=n(1168),a=n(8661),o=n(4590),i=n(3470),s=n(5806),u=n(5730),c=Object.prototype.toString,l=n(7500),h=l.Z_NO_FLUSH,d=l.Z_FINISH,f=l.Z_OK,p=l.Z_STREAM_END,v=l.Z_NEED_DICT,y=l.Z_STREAM_ERROR,g=l.Z_DATA_ERROR,b=l.Z_MEM_ERROR;function m(e){this.options=a.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==f)throw new Error(i[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==f))throw new Error(i[n])}function w(e,t){var n=new m(t);if(n.push(e),n.err)throw n.msg||i[n.err];return n.result}m.prototype.push=function(e,t){var n,a,i,s=this.strm,u=this.options.chunkSize,l=this.options.dictionary;if(this.ended)return!1;for(a=t===~~t?t:!0===t?d:h,"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(0===s.avail_out&&(s.output=new Uint8Array(u),s.next_out=0,s.avail_out=u),(n=r.inflate(s,a))===v&&l&&((n=r.inflateSetDictionary(s,l))===f?n=r.inflate(s,a):n===g&&(n=v));s.avail_in>0&&n===p&&s.state.wrap>0&&0!==e[s.next_in];)r.inflateReset(s),n=r.inflate(s,a);switch(n){case y:case g:case v:case b:return this.onEnd(n),this.ended=!0,!1}if(i=s.avail_out,s.next_out&&(0===s.avail_out||n===p))if("string"===this.options.to){var m=o.utf8border(s.output,s.next_out),w=s.next_out-m,_=o.buf2string(s.output,m);s.next_out=w,s.avail_out=u-w,w&&s.output.set(s.output.subarray(m,m+w),0),this.onData(_)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(n!==f||0!==i){if(n===p)return n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===s.avail_in)break}}return!0},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Inflate=m,e.exports.inflate=w,e.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,w(e,t)},e.exports.ungzip=w,e.exports.constants=n(7500)},8661:function(e){"use strict";var t=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};e.exports.assign=function(e){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(var a in r)t(r,a)&&(e[a]=r[a])}}return e},e.exports.flattenChunks=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var a=new Uint8Array(t),o=0,i=0,s=e.length;o<s;o++){var u=e[o];a.set(u,i),i+=u.length}return a}},4590:function(e){"use strict";var t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){t=!1}for(var n=new Uint8Array(256),r=0;r<256;r++)n[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;n[254]=n[254]=1,e.exports.string2buf=function(e){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,a,o,i=e.length,s=0;for(a=0;a<i;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<i&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,a=0;o<s;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<i&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t};e.exports.buf2string=function(e,r){var a,o,i=r||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,r));var s=new Array(2*i);for(o=0,a=0;a<i;){var u=e[a++];if(u<128)s[o++]=u;else{var c=n[u];if(c>4)s[o++]=65533,a+=c-1;else{for(u&=2===c?31:3===c?15:7;c>1&&a<i;)u=u<<6|63&e[a++],c--;c>1?s[o++]=65533:u<65536?s[o++]=u:(u-=65536,s[o++]=55296|u>>10&1023,s[o++]=56320|1023&u)}}}return function(e,n){if(n<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[a]);return r}(s,o)},e.exports.utf8border=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128===(192&e[r]);)r--;return r<0||0===r?t:r+n[e[r]]>t?r:t}},8409:function(e){"use strict";e.exports=function(e,t,n,r){for(var a=65535&e|0,o=e>>>16&65535|0,i=0;0!==n;){n-=i=n>2e3?2e3:n;do{o=o+(a=a+t[r++]|0)|0}while(--i);a%=65521,o%=65521}return a|o<<16|0}},7500:function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},1656:function(e){"use strict";var t=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}());e.exports=function(e,n,r,a){var o=t,i=a+r;e^=-1;for(var s=a;s<i;s++)e=e>>>8^o[255&(e^n[s])];return-1^e}},2849:function(e,t,n){"use strict";var r=n(889),a=r._tr_init,o=r._tr_stored_block,i=r._tr_flush_block,s=r._tr_tally,u=r._tr_align,c=n(8409),l=n(1656),h=n(3470),d=n(7500),f=d.Z_NO_FLUSH,p=d.Z_PARTIAL_FLUSH,v=d.Z_FULL_FLUSH,y=d.Z_FINISH,g=d.Z_BLOCK,b=d.Z_OK,m=d.Z_STREAM_END,w=d.Z_STREAM_ERROR,_=d.Z_DATA_ERROR,I=d.Z_BUF_ERROR,k=d.Z_DEFAULT_COMPRESSION,x=d.Z_FILTERED,E=d.Z_HUFFMAN_ONLY,O=d.Z_RLE,A=d.Z_FIXED,j=d.Z_DEFAULT_STRATEGY,R=d.Z_UNKNOWN,C=d.Z_DEFLATED,S=258,V=262,N=103,L=113,T=666,B=function(e,t){return e.msg=h[t],t},U=function(e){return(e<<1)-(e>4?9:0)},D=function(e){for(var t=e.length;--t>=0;)e[t]=0},M=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},z=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},H=function(e,t){i(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,z(e.strm)},P=function(e,t){e.pending_buf[e.pending++]=t},Z=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},F=function(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=c(e.adler,t,a,n):2===e.state.wrap&&(e.adler=l(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},q=function(e,t){var n,r,a=e.max_chain_length,o=e.strstart,i=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-V?e.strstart-(e.w_size-V):0,c=e.window,l=e.w_mask,h=e.prev,d=e.strstart+S,f=c[o+i-1],p=c[o+i];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+i]===p&&c[n+i-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=S-(d-o),o=d-S,r>i){if(e.match_start=t,i=r,r>=s)break;f=c[o+i-1],p=c[o+i]}}}while((t=h[t&l])>u&&0!==--a);return i<=e.lookahead?i:e.lookahead},G=function(e){var t,n,r,a,o,i=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-V)){e.window.set(e.window.subarray(i,i+i),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=i?r-i:0}while(--n);t=n=i;do{r=e.prev[--t],e.prev[t]=r>=i?r-i:0}while(--n);a+=i}if(0===e.strm.avail_in)break;if(n=F(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=M(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=M(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<V&&0!==e.strm.avail_in)},K=function(e,t){for(var n,r;;){if(e.lookahead<V){if(G(e),e.lookahead<V&&t===f)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=M(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-V&&(e.match_length=q(e,n)),e.match_length>=3)if(r=s(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=M(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=M(e,e.ins_h,e.window[e.strstart+1]);else r=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(H(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===y?(H(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(H(e,!1),0===e.strm.avail_out)?1:2},W=function(e,t){for(var n,r,a;;){if(e.lookahead<V){if(G(e),e.lookahead<V&&t===f)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=M(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-V&&(e.match_length=q(e,n),e.match_length<=5&&(e.strategy===x||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=s(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=M(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(H(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=s(e,0,e.window[e.strstart-1]))&&H(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===y?(H(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(H(e,!1),0===e.strm.avail_out)?1:2};function Y(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}var J=[new Y(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(G(e),0===e.lookahead&&t===f)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,H(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-V&&(H(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===y?(H(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(H(e,!1),e.strm.avail_out),1)})),new Y(4,4,8,4,K),new Y(4,5,16,8,K),new Y(4,6,32,32,K),new Y(4,4,16,16,W),new Y(8,16,32,32,W),new Y(8,16,128,128,W),new Y(8,32,128,256,W),new Y(32,128,258,1024,W),new Y(32,258,258,4096,W)];function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var $=function(e){if(!e||!e.state)return B(e,w);e.total_in=e.total_out=0,e.data_type=R;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:L,e.adler=2===t.wrap?0:1,t.last_flush=f,a(t),b},Q=function(e){var t,n=$(e);return n===b&&((t=e.state).window_size=2*t.w_size,D(t.head),t.max_lazy_match=J[t.level].max_lazy,t.good_match=J[t.level].good_length,t.nice_match=J[t.level].nice_length,t.max_chain_length=J[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},ee=function(e,t,n,r,a,o){if(!e)return w;var i=1;if(t===k&&(t=6),r<0?(i=0,r=-r):r>15&&(i=2,r-=16),a<1||a>9||n!==C||r<8||r>15||t<0||t>9||o<0||o>A)return B(e,w);8===r&&(r=9);var s=new X;return e.state=s,s.strm=e,s.wrap=i,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Q(e)};e.exports.deflateInit=function(e,t){return ee(e,t,C,15,8,j)},e.exports.deflateInit2=ee,e.exports.deflateReset=Q,e.exports.deflateResetKeep=$,e.exports.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?w:(e.state.gzhead=t,b):w},e.exports.deflate=function(e,t){var n,r;if(!e||!e.state||t>g||t<0)return e?B(e,w):w;var a=e.state;if(!e.output||!e.input&&0!==e.avail_in||a.status===T&&t!==y)return B(e,0===e.avail_out?I:w);a.strm=e;var i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,P(a,31),P(a,139),P(a,8),a.gzhead?(P(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),P(a,255&a.gzhead.time),P(a,a.gzhead.time>>8&255),P(a,a.gzhead.time>>16&255),P(a,a.gzhead.time>>24&255),P(a,9===a.level?2:a.strategy>=E||a.level<2?4:0),P(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(P(a,255&a.gzhead.extra.length),P(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=l(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(P(a,0),P(a,0),P(a,0),P(a,0),P(a,0),P(a,9===a.level?2:a.strategy>=E||a.level<2?4:0),P(a,3),a.status=L);else{var c=C+(a.w_bits-8<<4)<<8;c|=(a.strategy>=E||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(c|=32),c+=31-c%31,a.status=L,Z(a,c),0!==a.strstart&&(Z(a,e.adler>>>16),Z(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>n&&(e.adler=l(e.adler,a.pending_buf,a.pending-n,n)),z(e),n=a.pending,a.pending!==a.pending_buf_size));)P(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=l(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=l(e.adler,a.pending_buf,a.pending-n,n)),z(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,P(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=l(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=l(e.adler,a.pending_buf,a.pending-n,n)),z(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,P(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=l(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.status=N)}else a.status=N;if(a.status===N&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&z(e),a.pending+2<=a.pending_buf_size&&(P(a,255&e.adler),P(a,e.adler>>8&255),e.adler=0,a.status=L)):a.status=L),0!==a.pending){if(z(e),0===e.avail_out)return a.last_flush=-1,b}else if(0===e.avail_in&&U(t)<=U(i)&&t!==y)return B(e,I);if(a.status===T&&0!==e.avail_in)return B(e,I);if(0!==e.avail_in||0!==a.lookahead||t!==f&&a.status!==T){var h=a.strategy===E?function(e,t){for(var n;;){if(0===e.lookahead&&(G(e),0===e.lookahead)){if(t===f)return 1;break}if(e.match_length=0,n=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(H(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===y?(H(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(H(e,!1),0===e.strm.avail_out)?1:2}(a,t):a.strategy===O?function(e,t){for(var n,r,a,o,i=e.window;;){if(e.lookahead<=S){if(G(e),e.lookahead<=S&&t===f)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=i[a=e.strstart-1])===i[++a]&&r===i[++a]&&r===i[++a]){o=e.strstart+S;do{}while(r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&a<o);e.match_length=S-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=s(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(H(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===y?(H(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(H(e,!1),0===e.strm.avail_out)?1:2}(a,t):J[a.level].func(a,t);if(3!==h&&4!==h||(a.status=T),1===h||3===h)return 0===e.avail_out&&(a.last_flush=-1),b;if(2===h&&(t===p?u(a):t!==g&&(o(a,0,0,!1),t===v&&(D(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),z(e),0===e.avail_out))return a.last_flush=-1,b}return t!==y?b:a.wrap<=0?m:(2===a.wrap?(P(a,255&e.adler),P(a,e.adler>>8&255),P(a,e.adler>>16&255),P(a,e.adler>>24&255),P(a,255&e.total_in),P(a,e.total_in>>8&255),P(a,e.total_in>>16&255),P(a,e.total_in>>24&255)):(Z(a,e.adler>>>16),Z(a,65535&e.adler)),z(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?b:m)},e.exports.deflateEnd=function(e){if(!e||!e.state)return w;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==N&&t!==L&&t!==T?B(e,w):(e.state=null,t===L?B(e,_):b)},e.exports.deflateSetDictionary=function(e,t){var n=t.length;if(!e||!e.state)return w;var r=e.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return w;if(1===a&&(e.adler=c(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var i=e.avail_in,s=e.next_in,u=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,G(r);r.lookahead>=3;){var l=r.strstart,h=r.lookahead-2;do{r.ins_h=M(r,r.ins_h,r.window[l+3-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++}while(--h);r.strstart=l,r.lookahead=2,G(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=u,e.avail_in=i,r.wrap=a,b},e.exports.deflateInfo="pako deflate (from Nodeca project)"},5730:function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},374:function(e){"use strict";e.exports=function(e,t){var n,r,a,o,i,s,u,c,l,h,d,f,p,v,y,g,b,m,w,_,I,k,x,E,O=e.state;n=e.next_in,x=e.input,r=n+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),i=a+(e.avail_out-257),s=O.dmax,u=O.wsize,c=O.whave,l=O.wnext,h=O.window,d=O.hold,f=O.bits,p=O.lencode,v=O.distcode,y=(1<<O.lenbits)-1,g=(1<<O.distbits)-1;e:do{f<15&&(d+=x[n++]<<f,f+=8,d+=x[n++]<<f,f+=8),b=p[d&y];t:for(;;){if(d>>>=m=b>>>24,f-=m,0===(m=b>>>16&255))E[a++]=65535&b;else{if(!(16&m)){if(0===(64&m)){b=p[(65535&b)+(d&(1<<m)-1)];continue t}if(32&m){O.mode=12;break e}e.msg="invalid literal/length code",O.mode=30;break e}w=65535&b,(m&=15)&&(f<m&&(d+=x[n++]<<f,f+=8),w+=d&(1<<m)-1,d>>>=m,f-=m),f<15&&(d+=x[n++]<<f,f+=8,d+=x[n++]<<f,f+=8),b=v[d&g];n:for(;;){if(d>>>=m=b>>>24,f-=m,!(16&(m=b>>>16&255))){if(0===(64&m)){b=v[(65535&b)+(d&(1<<m)-1)];continue n}e.msg="invalid distance code",O.mode=30;break e}if(_=65535&b,f<(m&=15)&&(d+=x[n++]<<f,(f+=8)<m&&(d+=x[n++]<<f,f+=8)),(_+=d&(1<<m)-1)>s){e.msg="invalid distance too far back",O.mode=30;break e}if(d>>>=m,f-=m,_>(m=a-o)){if((m=_-m)>c&&O.sane){e.msg="invalid distance too far back",O.mode=30;break e}if(I=0,k=h,0===l){if(I+=u-m,m<w){w-=m;do{E[a++]=h[I++]}while(--m);I=a-_,k=E}}else if(l<m){if(I+=u+l-m,(m-=l)<w){w-=m;do{E[a++]=h[I++]}while(--m);if(I=0,l<w){w-=m=l;do{E[a++]=h[I++]}while(--m);I=a-_,k=E}}}else if(I+=l-m,m<w){w-=m;do{E[a++]=h[I++]}while(--m);I=a-_,k=E}for(;w>2;)E[a++]=k[I++],E[a++]=k[I++],E[a++]=k[I++],w-=3;w&&(E[a++]=k[I++],w>1&&(E[a++]=k[I++]))}else{I=a-_;do{E[a++]=E[I++],E[a++]=E[I++],E[a++]=E[I++],w-=3}while(w>2);w&&(E[a++]=E[I++],w>1&&(E[a++]=E[I++]))}break}}break}}while(n<r&&a<i);n-=w=f>>3,d&=(1<<(f-=w<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<i?i-a+257:257-(a-i),O.hold=d,O.bits=f}},1168:function(e,t,n){"use strict";var r=n(8409),a=n(1656),o=n(374),i=n(6583),s=n(7500),u=s.Z_FINISH,c=s.Z_BLOCK,l=s.Z_TREES,h=s.Z_OK,d=s.Z_STREAM_END,f=s.Z_NEED_DICT,p=s.Z_STREAM_ERROR,v=s.Z_DATA_ERROR,y=s.Z_MEM_ERROR,g=s.Z_BUF_ERROR,b=s.Z_DEFLATED,m=12,w=30,_=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var k,x,E=function(e){if(!e||!e.state)return p;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,h},O=function(e){if(!e||!e.state)return p;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,E(e)},A=function(e,t){var n;if(!e||!e.state)return p;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?p:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,O(e))},j=function(e,t){if(!e)return p;var n=new I;e.state=n,n.window=null;var r=A(e,t);return r!==h&&(e.state=null),r},R=!0,C=function(e){if(R){k=new Int32Array(512),x=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(i(1,e.lens,0,288,k,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;i(2,e.lens,0,32,x,0,e.work,{bits:5}),R=!1}e.lencode=k,e.lenbits=9,e.distcode=x,e.distbits=5},S=function(e,t,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),o.window.set(t.subarray(n-r,n-r+a),o.wnext),(r-=a)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0};e.exports.inflateReset=O,e.exports.inflateReset2=A,e.exports.inflateResetKeep=E,e.exports.inflateInit=function(e){return j(e,15)},e.exports.inflateInit2=j,e.exports.inflate=function(e,t){var n,s,I,k,x,E,O,A,j,R,V,N,L,T,B,U,D,M,z,H,P,Z,F,q,G=0,K=new Uint8Array(4),W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return p;(n=e.state).mode===m&&(n.mode=13),x=e.next_out,I=e.output,O=e.avail_out,k=e.next_in,s=e.input,E=e.avail_in,A=n.hold,j=n.bits,R=E,V=O,Z=h;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;j<16;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(2&n.wrap&&35615===A){n.check=0,K[0]=255&A,K[1]=A>>>8&255,n.check=a(n.check,K,2,0),A=0,j=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",n.mode=w;break}if((15&A)!==b){e.msg="unknown compression method",n.mode=w;break}if(j-=4,P=8+(15&(A>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=w;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&A?10:m,A=0,j=0;break;case 2:for(;j<16;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(n.flags=A,(255&n.flags)!==b){e.msg="unknown compression method",n.mode=w;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=w;break}n.head&&(n.head.text=A>>8&1),512&n.flags&&(K[0]=255&A,K[1]=A>>>8&255,n.check=a(n.check,K,2,0)),A=0,j=0,n.mode=3;case 3:for(;j<32;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}n.head&&(n.head.time=A),512&n.flags&&(K[0]=255&A,K[1]=A>>>8&255,K[2]=A>>>16&255,K[3]=A>>>24&255,n.check=a(n.check,K,4,0)),A=0,j=0,n.mode=4;case 4:for(;j<16;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}n.head&&(n.head.xflags=255&A,n.head.os=A>>8),512&n.flags&&(K[0]=255&A,K[1]=A>>>8&255,n.check=a(n.check,K,2,0)),A=0,j=0,n.mode=5;case 5:if(1024&n.flags){for(;j<16;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}n.length=A,n.head&&(n.head.extra_len=A),512&n.flags&&(K[0]=255&A,K[1]=A>>>8&255,n.check=a(n.check,K,2,0)),A=0,j=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((N=n.length)>E&&(N=E),N&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(s.subarray(k,k+N),P)),512&n.flags&&(n.check=a(n.check,s,N,k)),E-=N,k+=N,n.length-=N),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===E)break e;N=0;do{P=s[k+N++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&N<E);if(512&n.flags&&(n.check=a(n.check,s,N,k)),E-=N,k+=N,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===E)break e;N=0;do{P=s[k+N++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&N<E);if(512&n.flags&&(n.check=a(n.check,s,N,k)),E-=N,k+=N,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;j<16;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(A!==(65535&n.check)){e.msg="header crc mismatch",n.mode=w;break}A=0,j=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=m;break;case 10:for(;j<32;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}e.adler=n.check=_(A),A=0,j=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=x,e.avail_out=O,e.next_in=k,e.avail_in=E,n.hold=A,n.bits=j,f;e.adler=n.check=1,n.mode=m;case m:if(t===c||t===l)break e;case 13:if(n.last){A>>>=7&j,j-=7&j,n.mode=27;break}for(;j<3;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}switch(n.last=1&A,j-=1,3&(A>>>=1)){case 0:n.mode=14;break;case 1:if(C(n),n.mode=20,t===l){A>>>=2,j-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=w}A>>>=2,j-=2;break;case 14:for(A>>>=7&j,j-=7&j;j<32;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if((65535&A)!==(A>>>16^65535)){e.msg="invalid stored block lengths",n.mode=w;break}if(n.length=65535&A,A=0,j=0,n.mode=15,t===l)break e;case 15:n.mode=16;case 16:if(N=n.length){if(N>E&&(N=E),N>O&&(N=O),0===N)break e;I.set(s.subarray(k,k+N),x),E-=N,k+=N,O-=N,x+=N,n.length-=N;break}n.mode=m;break;case 17:for(;j<14;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(n.nlen=257+(31&A),A>>>=5,j-=5,n.ndist=1+(31&A),A>>>=5,j-=5,n.ncode=4+(15&A),A>>>=4,j-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=w;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;j<3;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}n.lens[W[n.have++]]=7&A,A>>>=3,j-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},Z=i(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,Z){e.msg="invalid code lengths set",n.mode=w;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;U=(G=n.lencode[A&(1<<n.lenbits)-1])>>>16&255,D=65535&G,!((B=G>>>24)<=j);){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(D<16)A>>>=B,j-=B,n.lens[n.have++]=D;else{if(16===D){for(q=B+2;j<q;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(A>>>=B,j-=B,0===n.have){e.msg="invalid bit length repeat",n.mode=w;break}P=n.lens[n.have-1],N=3+(3&A),A>>>=2,j-=2}else if(17===D){for(q=B+3;j<q;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}j-=B,P=0,N=3+(7&(A>>>=B)),A>>>=3,j-=3}else{for(q=B+7;j<q;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}j-=B,P=0,N=11+(127&(A>>>=B)),A>>>=7,j-=7}if(n.have+N>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=w;break}for(;N--;)n.lens[n.have++]=P}}if(n.mode===w)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=w;break}if(n.lenbits=9,F={bits:n.lenbits},Z=i(1,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,Z){e.msg="invalid literal/lengths set",n.mode=w;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},Z=i(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,Z){e.msg="invalid distances set",n.mode=w;break}if(n.mode=20,t===l)break e;case 20:n.mode=21;case 21:if(E>=6&&O>=258){e.next_out=x,e.avail_out=O,e.next_in=k,e.avail_in=E,n.hold=A,n.bits=j,o(e,V),x=e.next_out,I=e.output,O=e.avail_out,k=e.next_in,s=e.input,E=e.avail_in,A=n.hold,j=n.bits,n.mode===m&&(n.back=-1);break}for(n.back=0;U=(G=n.lencode[A&(1<<n.lenbits)-1])>>>16&255,D=65535&G,!((B=G>>>24)<=j);){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(U&&0===(240&U)){for(M=B,z=U,H=D;U=(G=n.lencode[H+((A&(1<<M+z)-1)>>M)])>>>16&255,D=65535&G,!(M+(B=G>>>24)<=j);){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}A>>>=M,j-=M,n.back+=M}if(A>>>=B,j-=B,n.back+=B,n.length=D,0===U){n.mode=26;break}if(32&U){n.back=-1,n.mode=m;break}if(64&U){e.msg="invalid literal/length code",n.mode=w;break}n.extra=15&U,n.mode=22;case 22:if(n.extra){for(q=n.extra;j<q;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}n.length+=A&(1<<n.extra)-1,A>>>=n.extra,j-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;U=(G=n.distcode[A&(1<<n.distbits)-1])>>>16&255,D=65535&G,!((B=G>>>24)<=j);){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(0===(240&U)){for(M=B,z=U,H=D;U=(G=n.distcode[H+((A&(1<<M+z)-1)>>M)])>>>16&255,D=65535&G,!(M+(B=G>>>24)<=j);){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}A>>>=M,j-=M,n.back+=M}if(A>>>=B,j-=B,n.back+=B,64&U){e.msg="invalid distance code",n.mode=w;break}n.offset=D,n.extra=15&U,n.mode=24;case 24:if(n.extra){for(q=n.extra;j<q;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}n.offset+=A&(1<<n.extra)-1,A>>>=n.extra,j-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=w;break}n.mode=25;case 25:if(0===O)break e;if(N=V-O,n.offset>N){if((N=n.offset-N)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=w;break}N>n.wnext?(N-=n.wnext,L=n.wsize-N):L=n.wnext-N,N>n.length&&(N=n.length),T=n.window}else T=I,L=x-n.offset,N=n.length;N>O&&(N=O),O-=N,n.length-=N;do{I[x++]=T[L++]}while(--N);0===n.length&&(n.mode=21);break;case 26:if(0===O)break e;I[x++]=n.length,O--,n.mode=21;break;case 27:if(n.wrap){for(;j<32;){if(0===E)break e;E--,A|=s[k++]<<j,j+=8}if(V-=O,e.total_out+=V,n.total+=V,V&&(e.adler=n.check=n.flags?a(n.check,I,V,x-V):r(n.check,I,V,x-V)),V=O,(n.flags?A:_(A))!==n.check){e.msg="incorrect data check",n.mode=w;break}A=0,j=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;j<32;){if(0===E)break e;E--,A+=s[k++]<<j,j+=8}if(A!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=w;break}A=0,j=0}n.mode=29;case 29:Z=d;break e;case w:Z=v;break e;case 31:return y;default:return p}return e.next_out=x,e.avail_out=O,e.next_in=k,e.avail_in=E,n.hold=A,n.bits=j,(n.wsize||V!==e.avail_out&&n.mode<w&&(n.mode<27||t!==u))&&S(e,e.output,e.next_out,V-e.avail_out)?(n.mode=31,y):(R-=e.avail_in,V-=e.avail_out,e.total_in+=R,e.total_out+=V,n.total+=V,n.wrap&&V&&(e.adler=n.check=n.flags?a(n.check,I,V,e.next_out-V):r(n.check,I,V,e.next_out-V)),e.data_type=n.bits+(n.last?64:0)+(n.mode===m?128:0)+(20===n.mode||15===n.mode?256:0),(0===R&&0===V||t===u)&&Z===h&&(Z=g),Z)},e.exports.inflateEnd=function(e){if(!e||!e.state)return p;var t=e.state;return t.window&&(t.window=null),e.state=null,h},e.exports.inflateGetHeader=function(e,t){if(!e||!e.state)return p;var n=e.state;return 0===(2&n.wrap)?p:(n.head=t,t.done=!1,h)},e.exports.inflateSetDictionary=function(e,t){var n,a=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?p:11===n.mode&&r(1,t,a,0)!==n.check?v:S(e,t,a,a)?(n.mode=31,y):(n.havedict=1,h):p},e.exports.inflateInfo="pako inflate (from Nodeca project)"},6583:function(e){"use strict";var t=15,n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),r=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),a=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),o=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=function(e,i,s,u,c,l,h,d){var f,p,v,y,g,b,m,w,_,I=d.bits,k=0,x=0,E=0,O=0,A=0,j=0,R=0,C=0,S=0,V=0,N=null,L=0,T=new Uint16Array(16),B=new Uint16Array(16),U=null,D=0;for(k=0;k<=t;k++)T[k]=0;for(x=0;x<u;x++)T[i[s+x]]++;for(A=I,O=t;O>=1&&0===T[O];O--);if(A>O&&(A=O),0===O)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(E=1;E<O&&0===T[E];E++);for(A<E&&(A=E),C=1,k=1;k<=t;k++)if(C<<=1,(C-=T[k])<0)return-1;if(C>0&&(0===e||1!==O))return-1;for(B[1]=0,k=1;k<t;k++)B[k+1]=B[k]+T[k];for(x=0;x<u;x++)0!==i[s+x]&&(h[B[i[s+x]]++]=x);if(0===e?(N=U=h,b=19):1===e?(N=n,L-=257,U=r,D-=257,b=256):(N=a,U=o,b=-1),V=0,x=0,k=E,g=l,j=A,R=0,v=-1,y=(S=1<<A)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){m=k-R,h[x]<b?(w=0,_=h[x]):h[x]>b?(w=U[D+h[x]],_=N[L+h[x]]):(w=96,_=0),f=1<<k-R,E=p=1<<j;do{c[g+(V>>R)+(p-=f)]=m<<24|w<<16|_|0}while(0!==p);for(f=1<<k-1;V&f;)f>>=1;if(0!==f?(V&=f-1,V+=f):V=0,x++,0===--T[k]){if(k===O)break;k=i[s+h[x]]}if(k>A&&(V&y)!==v){for(0===R&&(R=A),g+=E,C=1<<(j=k-R);j+R<O&&!((C-=T[j+R])<=0);)j++,C<<=1;if(S+=1<<j,1===e&&S>852||2===e&&S>592)return 1;c[v=V&y]=A<<24|j<<16|g-l|0}}return 0!==V&&(c[g+V]=k-R<<24|64<<16|0),d.bits=A,0}},3470:function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},889:function(e){"use strict";function t(e){for(var t=e.length;--t>=0;)e[t]=0}var n=256,r=286,a=30,o=15,i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);t(l);var h=new Array(60);t(h);var d=new Array(512);t(d);var f=new Array(256);t(f);var p=new Array(29);t(p);var v,y,g,b=new Array(a);function m(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(b);var _=function(e){return e<256?d[e]:d[256+(e>>>7)]},I=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},k=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},x=function(e,t,n){k(e,n[2*t],n[2*t+1])},E=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},O=function(e,t,n){var r,a,i=new Array(16),s=0;for(r=1;r<=o;r++)i[r]=s=s+n[r-1]<<1;for(a=0;a<=t;a++){var u=e[2*a+1];0!==u&&(e[2*a]=E(i[u]++,u))}},A=function(e){var t;for(t=0;t<r;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},j=function(e){e.bi_valid>8?I(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},R=function(e,t,n,r){var a=2*t,o=2*n;return e[a]<e[o]||e[a]===e[o]&&r[t]<=r[n]},C=function(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&R(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!R(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},S=function(e,t,r){var a,o,u,c,l=0;if(0!==e.last_lit)do{a=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===a?x(e,o,t):(u=f[o],x(e,u+n+1,t),0!==(c=i[u])&&(o-=p[u],k(e,o,c)),a--,u=_(a),x(e,u,r),0!==(c=s[u])&&(a-=b[u],k(e,a,c)))}while(l<e.last_lit);x(e,256,t)},V=function(e,t){var n,r,a,i=t.dyn_tree,s=t.stat_desc.static_tree,u=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[a]=0,e.opt_len--,u&&(e.static_len-=s[2*a+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)C(e,i,n);a=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,C(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,s,u,c=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,v=t.stat_desc.max_length,y=0;for(i=0;i<=o;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=c[2*c[2*(r=e.heap[n])+1]+1]+1)>v&&(i=v,y++),c[2*r+1]=i,r>l||(e.bl_count[i]++,s=0,r>=p&&(s=f[r-p]),u=c[2*r],e.opt_len+=u*(i+s),d&&(e.static_len+=u*(h[2*r+1]+s)));if(0!==y){do{for(i=v-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[v]--,y-=2}while(y>0);for(i=v;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>l||(c[2*a+1]!==i&&(e.opt_len+=(i-c[2*a+1])*c[2*a],c[2*a+1]=i),r--)}}(e,t),O(i,l,e.bl_count)},N=function(e,t,n){var r,a,o=-1,i=t[1],s=0,u=7,c=4;for(0===i&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=i,i=t[2*(r+1)+1],++s<u&&a===i||(s<c?e.bl_tree[2*a]+=s:0!==a?(a!==o&&e.bl_tree[2*a]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=a,0===i?(u=138,c=3):a===i?(u=6,c=3):(u=7,c=4))},L=function(e,t,n){var r,a,o=-1,i=t[1],s=0,u=7,c=4;for(0===i&&(u=138,c=3),r=0;r<=n;r++)if(a=i,i=t[2*(r+1)+1],!(++s<u&&a===i)){if(s<c)do{x(e,a,e.bl_tree)}while(0!==--s);else 0!==a?(a!==o&&(x(e,a,e.bl_tree),s--),x(e,16,e.bl_tree),k(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),k(e,s-3,3)):(x(e,18,e.bl_tree),k(e,s-11,7));s=0,o=a,0===i?(u=138,c=3):a===i?(u=6,c=3):(u=7,c=4)}},T=!1,B=function(e,t,n,r){k(e,0+(r?1:0),3),function(e,t,n,r){j(e),r&&(I(e,n),I(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)};e.exports._tr_init=function(e){T||(!function(){var e,t,n,c,w,_=new Array(16);for(n=0,c=0;c<28;c++)for(p[c]=n,e=0;e<1<<i[c];e++)f[n++]=c;for(f[n-1]=c,w=0,c=0;c<16;c++)for(b[c]=w,e=0;e<1<<s[c];e++)d[w++]=c;for(w>>=7;c<a;c++)for(b[c]=w<<7,e=0;e<1<<s[c]-7;e++)d[256+w++]=c;for(t=0;t<=o;t++)_[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,_[8]++;for(;e<=255;)l[2*e+1]=9,e++,_[9]++;for(;e<=279;)l[2*e+1]=7,e++,_[7]++;for(;e<=287;)l[2*e+1]=8,e++,_[8]++;for(O(l,287,_),e=0;e<a;e++)h[2*e+1]=5,h[2*e]=E(e,5);v=new m(l,i,257,r,o),y=new m(h,s,0,a,o),g=new m(new Array(0),u,0,19,7)}(),T=!0),e.l_desc=new w(e.dyn_ltree,v),e.d_desc=new w(e.dyn_dtree,y),e.bl_desc=new w(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,A(e)},e.exports._tr_stored_block=B,e.exports._tr_flush_block=function(e,t,r,a){var o,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<n;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),V(e,e.l_desc),V(e,e.d_desc),s=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=r+5,r+4<=o&&-1!==t?B(e,t,r,a):4===e.strategy||i===o?(k(e,2+(a?1:0),3),S(e,l,h)):(k(e,4+(a?1:0),3),function(e,t,n,r){var a;for(k(e,t-257,5),k(e,n-1,5),k(e,r-4,4),a=0;a<r;a++)k(e,e.bl_tree[2*c[a]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),S(e,e.dyn_ltree,e.dyn_dtree)),A(e),a&&j(e)},e.exports._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(f[r]+n+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},e.exports._tr_align=function(e){k(e,2,3),x(e,256,l),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},5806:function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(e,t,n){var r=h;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=E(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",v={};function y(){}function g(){}function b(){}var m={};u(m,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(R([])));_&&_!==n&&r.call(_,o)&&(m=_);var I=b.prototype=y.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,o,i,s){var u=l(e[a],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(h).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:C}}function C(){return{value:t,done:!0}}return g.prototype=b,u(I,"constructor",b),u(b,"constructor",g),g.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},k(x.prototype),u(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(I),u(I,s,"Generator"),u(I,o,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},4610:function(e,t,n){var r=n(7669),a=n(8560),o=a;o.v1=r,o.v4=a,e.exports=o},1874:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,a=t;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},7180:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7669:function(e,t,n){var r,a,o=n(7180),i=n(1874),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:a;if(null==h||null==d){var f=o();null==h&&(h=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=a=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=p-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,a=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var b=p/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var m=0;m<6;++m)l[c+m]=h[m];return t||i(l)}},8560:function(e,t,n){var r=n(7180),a=n(1874);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}},8971:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6594);function a(e){var t,n;function a(t,n){try{var i=e[t](n),s=i.value,u=s instanceof r.Z;Promise.resolve(u?s.wrapped:s).then((function(e){u?a("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(c){o("throw",c)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,i){var s={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=s:(t=n=s,a(e,r))}))},"function"!==typeof e.return&&(this.return=void 0)}a.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)}},6594:function(e,t,n){"use strict";function r(e){this.wrapped=e}n.d(t,{Z:function(){return r}})},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},6296:function(e,t,n){"use strict";function r(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new a(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new a(e)}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,u,"next",e)}function u(e){r(i,a,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})},6420:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6594);function a(e){return new r.Z(e)}},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},9632:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(8971);function a(e){return function(){return new r.Z(e.apply(this,arguments))}}},8397:function(e,t,n){"use strict";var r=n(1413),a=n(6420),o=n(9632),i=n(7757),s=n(1414),u=["continue","continuePrimaryKey","advance"],c={},l=new WeakMap,h=new WeakMap,d={get:function(e,t){if(!u.includes(t))return e[t];var n=c[t];return n||(n=c[t]=function(){var e;l.set(this,(e=h.get(this))[t].apply(e,arguments))}),n}};function f(){return p.apply(this,arguments)}function p(){return p=(0,o.Z)(i.mark((function e(){var t,n,r,o=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this)instanceof IDBCursor){e.next=5;break}return e.next=4,(0,a.Z)((n=t).openCursor.apply(n,o));case 4:t=e.sent;case 5:if(t){e.next=7;break}return e.abrupt("return");case 7:t=t,r=new Proxy(t,d),h.set(r,t),s.a.set(r,(0,s.u)(t));case 11:if(!t){e.next=20;break}return e.next=14,r;case 14:return e.next=16,(0,a.Z)(l.get(r)||t.continue());case 16:t=e.sent,l.delete(r),e.next=11;break;case 20:case"end":return e.stop()}}),e,this)}))),p.apply(this,arguments)}function v(e,t){return t===Symbol.asyncIterator&&(0,s.i)(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&(0,s.i)(e,[IDBIndex,IDBObjectStore])}(0,s.r)((function(e){return(0,r.Z)((0,r.Z)({},e),{},{get:function(t,n,r){return v(t,n)?f:e.get(t,n,r)},has:function(t,n){return v(t,n)||e.has(t,n)}})}))},262:function(e,t,n){"use strict";n.d(t,{X3:function(){return s}});var r=n(1413),a=n(5861),o=n(7757),i=n(1414);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,a=n.upgrade,o=n.blocking,s=n.terminated,u=indexedDB.open(e,t),c=(0,i.w)(u);return a&&u.addEventListener("upgradeneeded",(function(e){a((0,i.w)(u.result),e.oldVersion,e.newVersion,(0,i.w)(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),c.then((function(e){s&&e.addEventListener("close",(function(){return s()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),c}var u=["get","getKey","getAll","getAllKeys","count"],c=["put","add","delete","clear"],l=new Map;function h(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(l.get(t))return l.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=c.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||u.includes(n))){var s=function(){var e=(0,a.Z)(o.mark((function e(t){var a,s,u,c,l,h,d=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=d.length,l=new Array(c>1?c-1:0),h=1;h<c;h++)l[h-1]=d[h];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return l.set(t,s),s}}}(0,i.r)((function(e){return(0,r.Z)((0,r.Z)({},e),{},{get:function(t,n,r){return h(t,n)||e.get(t,n,r)},has:function(t,n){return!!h(t,n)||e.has(t,n)}})}))},1414:function(e,t,n){"use strict";n.d(t,{a:function(){return l},i:function(){return o},r:function(){return d},u:function(){return y},w:function(){return v}});var r,a,o=function(e,t){return t.some((function(t){return e instanceof t}))};var i=new WeakMap,s=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap;var h={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function d(e){h=e(h)}function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(i.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o=e.call.apply(e,[y(this),t].concat(r));return u.set(o,t.sort?t.sort():[t]),v(o)}}function p(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(!s.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)}));s.set(e,t)}}(e),o(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function v(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",a),e.removeEventListener("error",o)},a=function(){t(v(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&i.set(t,e)})).catch((function(){})),l.set(t,e),t}(e);if(c.has(e))return c.get(e);var t=p(e);return t!==e&&(c.set(e,t),l.set(t,e)),t}var y=function(e){return l.get(e)}},7557:function(e,t,n){"use strict";n.d(t,{X3:function(){return r.X3}});var r=n(262);n(8397)}}]);
//# sourceMappingURL=143.9c404735.chunk.js.map